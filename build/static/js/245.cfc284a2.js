"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[245],{3245:(j,u,t)=>{t.r(u),t.d(u,{default:()=>U});var e=t(8160),O=t(8404),_=t.n(O),P=t(3751),M=t(9130),f=t(8230),g=t(300),C=t(3133),L=t(9290),c=t(8485),l=t(9024),A=t(455),E=t(8721),m=t(6939),I=t(6500),x=t(9478),T=t(5213);const W=(0,L.zo)("video",{h:"100%",margin:"0 auto"});let a=null;const R=()=>{var D;const r=(0,e.useRef)(null),B=(0,P._U)(M.Yt),K=(0,T.jc)(),s=(D=B.variants[0])==null?void 0:D.url,[i,S]=(0,e.useState)([]),[y,d]=(0,e.useState)(""),[v,$]=(0,e.useState)(!1);(0,e.useEffect)(()=>{r.current&&s&&!a&&(_().isSupported()?(a=new(_())(p()),a.loadSource(s),a.attachMedia(r.current),a.once(_().Events.MANIFEST_LOADED,(n,o)=>{S(o.levels),d("Auto")})):r.current.canPlayType("application/vnd.apple.mpegurl")&&(r.current.src=s))},[s]),(0,e.useEffect)(()=>()=>{a&&a.media&&(a.detachMedia(),a=null)},[]);const h=(0,e.useCallback)(n=>{if(a){a.currentLevel=F(n);const o=n.height==="auto"?"Auto":`${n.height}p`;d(o)}},[i]),F=n=>{if(n.height==="auto")return-1;const o=i.findIndex(({url:H})=>H===n.url);return i.length-1-o};return e.createElement(e.Fragment,null,s?e.createElement(e.Fragment,null,e.createElement(c.k,{align:"center",css:{position:"absolute",right:"$4"}},e.createElement(l.L.Root,{open:v,onOpenChange:n=>$(n)},e.createElement(l.L.Trigger,{asChild:!0,"data-testid":"quality_selector"},e.createElement(c.k,{css:{color:"$textPrimary",borderRadius:"$1",cursor:"pointer",zIndex:40,border:"1px solid $textDisabled",padding:"$2 $4"}},e.createElement(A.u,{title:"Select Quality"},e.createElement(c.k,null,e.createElement(f.Z,null),e.createElement(E.x,{variant:"md"},y))),e.createElement(m.x,{css:{"@lg":{display:"none"},color:"$textDisabled"}},v?e.createElement(g.Z,null):e.createElement(C.Z,null)))),i.length>0&&e.createElement(l.L.Content,{sideOffset:5,align:"end",css:{height:"auto",maxHeight:"$96"}},e.createElement(l.L.Item,{onClick:n=>h({height:"auto"}),css:{h:"auto",flexDirection:"column",flexWrap:"wrap",cursor:"pointer",alignItems:"flex-start"},key:"auto"},e.createElement(E.x,null,"Automatic")),i.map(n=>e.createElement(l.L.Item,{onClick:()=>h(n),css:{h:"auto",flexDirection:"column",flexWrap:"wrap",cursor:"pointer",alignItems:"flex-start"},key:n.url},e.createElement(E.x,null,`${n.height}p (${(Number(n.bitrate/1024)/1024).toFixed(2)} Mbps)`)))))),e.createElement(W,{ref:r,autoPlay:!0,controls:!0,playsInline:!0})):e.createElement(c.k,{align:"center",justify:"center",css:{size:"100%"}},e.createElement(E.x,{variant:"md",css:{textAlign:"center"}},"Waiting for the Streaming to start...")),K&&e.createElement(m.x,{css:{height:"50%",position:"absolute",zIndex:40,bottom:"$20",right:0,width:"20%","@sm":{width:"75%"}}},e.createElement(I.i,null)))};function p(){return x.T.optimiseHLSLatency()?{enableWorker:!0,liveSyncDuration:1,liveMaxLatencyDuration:5,liveDurationInfinity:!0,highBufferWatchdogPeriod:1}:{}}const U=R}}]);

//# sourceMappingURL=245.cfc284a2.js.map