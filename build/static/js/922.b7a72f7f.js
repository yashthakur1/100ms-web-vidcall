"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[922],{4922:(z,E,i)=>{i.r(E),i.d(E,{default:()=>V});var m=i(8160),C=i(108),D=i.n(C),k=i(3751),b=i(9130),P=i(414),S=i.n(P),T=i(6939),f=i(8721),O=i(455),I=i(5861),N=i(6761),x=i(9478),o=i(8160),w=Object.defineProperty,j=Object.defineProperties,y=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,v=(s,e,n)=>e in s?w(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,U=(s,e)=>{for(var n in e||(e={}))L.call(e,n)&&v(s,n,e[n]);if(h)for(var n of h(e))M.call(e,n)&&v(s,n,e[n]);return s},H=(s,e)=>j(s,y(e)),G=(s,e,n)=>(v(s,typeof e!="symbol"?e+"":e,n),n),R=(s,e,n)=>new Promise((r,p)=>{var d=t=>{try{a(n.next(t))}catch(c){p(c)}},_=t=>{try{a(n.throw(t))}catch(c){p(c)}},a=t=>t.done?r(t.value):Promise.resolve(t.value).then(d,_);a((n=n.apply(s,e)).next())});const F=x.T.enableTranscription&&new(D())({npm_package_devDependencies_prettier:"^2.5.1",npm_package_devDependencies_source_map_loader:"^3.0.1",TERM_PROGRAM:"vscode",npm_package_devDependencies_cssnano:"^5.0.15",NODE:"/usr/local/bin/node",npm_package_dependencies_worker_timers:"^7.0.40",INIT_CWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_devDependencies_terser_webpack_plugin:"^5.3.1",npm_package_dependencies_logrocket_react:"^5.0.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/",npm_package_dependencies_react_freeze:"^1.0.0",npm_package_dependencies__100mslive_react_icons:"0.1.4",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.69.0-insider",npm_package_dependencies_screenfull:"^5.1.0",npm_package_scripts_dev:"node ../../scripts/dev-webapp",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",npm_package_dependencies_uuid:"^8.3.2",npm_package_dependencies_pusher_js:"^7.0.3",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_dependencies_react_dom:"^18.1.0",npm_package_readmeFilename:"README.md",USER:"rajesh",npm_package_description:"[![Documentation](https://img.shields.io/badge/Read-Documentation-blue)](https://docs.100ms.live/javascript/v2/foundation/basics) [![Discord](https://img.shields.io/badge/Community-Join%20on%20Discord-blue)](https://discord.gg/F8cNgbjSaQ) [![Email](https://img.shields.io/badge/Contact-Know%20More-blue)](mailto:founders@100ms.live)",npm_package_devDependencies_webpack:"^5.69.1",npm_package_dependencies_web_vitals:"^1.0.1",npm_package_license:"MIT",npm_package_devDependencies_webpack_cli:"^4.9.2",npm_package_devDependencies_dotenv:"^14.2.0",COMMAND_MODE:"unix2003",npm_package_devDependencies_postcss_loader:"^6.2.1",npm_package_scripts_prebuild:"rm -rf build",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies_webpack_dev_server:"^4.7.4",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_dependencies_logrocket:"^2.2.0",npm_package_dependencies__100mslive_hms_noise_suppression:"0.2.4",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.yXvh3GvBBO/Listeners",npm_package_devDependencies_esbuild_plugin_postcss2:"0.1.1",npm_package_devDependencies_esbuild_loader:"^2.18.0",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.5",npm_package_devDependencies_eslint:"^8.9.0",npm_package_browserslist_development_2:"last 1 safari version",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__100mslive_react_ui:"0.1.4",npm_package_module:"dist/index.js",npm_package_dependencies_react_use:"^17.3.2",npm_package_devDependencies_mini_css_extract_plugin:"^2.5.2",npm_package_devDependencies_eslint_plugin_prettier:"^4.0.0",npm_package_devDependencies_copy_webpack_plugin:"^10.2.1",PATH:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/yarn--1658318502528-0.8189668608662541:/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin:/Users/rajesh/.config/yarn/link/node_modules/.bin:/usr/local/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["run","build"]}',_:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin/webpack",npm_package_dependencies__tldraw_tldraw:"^1.5.0",__CFBundleIdentifier:"com.microsoft.VSCodeInsiders",npm_package_browserslist_production_1:"not dead",PWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_browserslist_production_0:">0.2%",JAVA_HOME:"/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home",npm_package_dependencies__100mslive_react_sdk:"0.1.4",npm_lifecycle_event:"build",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_mobx:"^6.3.12",npm_package_dependencies_js_confetti:"^0.10.2",LOCAL_GIT_DIRECTORY:"/Applications/GitHub Desktop.app/Contents/Resources/app/git",LANG:"en_US.UTF-8",npm_package_name:"100ms_edtech_template",npm_package_devDependencies_eslint_plugin_import:"^2.25.4",npm_package_dependencies__100mslive_hms_virtual_background:"1.4.4",npm_package_scripts_esbuild:"node ../../scripts/build-webapp",npm_package_scripts_start:"webpack serve",npm_package_scripts_build:"webpack --node-env production",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_devDependencies__babel_eslint_parser:"^7.17.0",npm_package_dependencies_react_router_dom:"^6.3.0",npm_package_devDependencies_eslint_config_react_app:"^7.0.0",npm_config_bin_links:"true",npm_package_main:"dist/index.cjs.js",XPC_SERVICE_NAME:"0",npm_package_dependencies_recordrtc:"^5.6.2",npm_package_version:"0.1.4",npm_package_devDependencies_autoprefixer:"^10.4.2",SHLVL:"2",HOME:"/Users/rajesh",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_hls_js:"^1.1.1",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",LOGNAME:"rajesh",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies_html_webpack_plugin:"^5.5.0",npm_package_scripts_format:"prettier -w src",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/vscode-git-49e2058bcb.sock",npm_package_dependencies_react:"^18.1.0",npm_package_devDependencies_webpack_manifest_plugin:"^4.1.1",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.10 npm/? node/v14.15.1 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code - Insiders.app/Contents/Frameworks/Code - Insiders Helper.app/Contents/MacOS/Code - Insiders Helper",npm_package_files_1:"src",npm_package_files_0:"dist",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_devDependencies_css_loader:"^6.5.1",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",npm_package_devDependencies_eslint_webpack_plugin:"^3.1.1",npm_config_version_tag_prefix:"v",NODE_ENV:"production",REACT_APP_TILE_SHAPE:"1-1",REACT_APP_THEME:"dark",REACT_APP_COLOR:"#2F80FF",REACT_APP_LOGO:"",REACT_APP_FONT:"Roboto",REACT_APP_SHOW_CHAT:"true",REACT_APP_SHOW_SCREENSHARE:"true",REACT_APP_VIDEO_AVATAR:"true",REACT_APP_TOKEN_GENERATION_ENDPOINT:"https://prod-in2.100ms.live/hmsapi/dopaminefit.app.100ms.live/",REACT_APP_ENV:"prod",REACT_APP_LOGROCKET_ID:"<Your Logrocket project ID>",REACT_APP_POLICY_CONFIG:'{"expert":{"center": ["customer"],"sidepane":["expert"]}}',REACT_APP_WEBINAR_PROPS:"{}",REACT_APP_DEFAULT_APP_DETAILS:"{}",REACT_APP_ENABLE_STATS_FOR_NERDS:"false",REACT_APP_PUSHER_APP_KEY:"",REACT_APP_PUSHER_AUTHENDPOINT:"",REACT_APP_HEADLESS_JOIN:"false"}.REACT_APP_TRANSCRIPTION_PUSHER_APP_KEY,{cluster:"ap2",authEndpoint:{npm_package_devDependencies_prettier:"^2.5.1",npm_package_devDependencies_source_map_loader:"^3.0.1",TERM_PROGRAM:"vscode",npm_package_devDependencies_cssnano:"^5.0.15",NODE:"/usr/local/bin/node",npm_package_dependencies_worker_timers:"^7.0.40",INIT_CWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_devDependencies_terser_webpack_plugin:"^5.3.1",npm_package_dependencies_logrocket_react:"^5.0.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/",npm_package_dependencies_react_freeze:"^1.0.0",npm_package_dependencies__100mslive_react_icons:"0.1.4",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.69.0-insider",npm_package_dependencies_screenfull:"^5.1.0",npm_package_scripts_dev:"node ../../scripts/dev-webapp",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",npm_package_dependencies_uuid:"^8.3.2",npm_package_dependencies_pusher_js:"^7.0.3",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_dependencies_react_dom:"^18.1.0",npm_package_readmeFilename:"README.md",USER:"rajesh",npm_package_description:"[![Documentation](https://img.shields.io/badge/Read-Documentation-blue)](https://docs.100ms.live/javascript/v2/foundation/basics) [![Discord](https://img.shields.io/badge/Community-Join%20on%20Discord-blue)](https://discord.gg/F8cNgbjSaQ) [![Email](https://img.shields.io/badge/Contact-Know%20More-blue)](mailto:founders@100ms.live)",npm_package_devDependencies_webpack:"^5.69.1",npm_package_dependencies_web_vitals:"^1.0.1",npm_package_license:"MIT",npm_package_devDependencies_webpack_cli:"^4.9.2",npm_package_devDependencies_dotenv:"^14.2.0",COMMAND_MODE:"unix2003",npm_package_devDependencies_postcss_loader:"^6.2.1",npm_package_scripts_prebuild:"rm -rf build",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies_webpack_dev_server:"^4.7.4",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_dependencies_logrocket:"^2.2.0",npm_package_dependencies__100mslive_hms_noise_suppression:"0.2.4",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.yXvh3GvBBO/Listeners",npm_package_devDependencies_esbuild_plugin_postcss2:"0.1.1",npm_package_devDependencies_esbuild_loader:"^2.18.0",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.5",npm_package_devDependencies_eslint:"^8.9.0",npm_package_browserslist_development_2:"last 1 safari version",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__100mslive_react_ui:"0.1.4",npm_package_module:"dist/index.js",npm_package_dependencies_react_use:"^17.3.2",npm_package_devDependencies_mini_css_extract_plugin:"^2.5.2",npm_package_devDependencies_eslint_plugin_prettier:"^4.0.0",npm_package_devDependencies_copy_webpack_plugin:"^10.2.1",PATH:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/yarn--1658318502528-0.8189668608662541:/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin:/Users/rajesh/.config/yarn/link/node_modules/.bin:/usr/local/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["run","build"]}',_:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin/webpack",npm_package_dependencies__tldraw_tldraw:"^1.5.0",__CFBundleIdentifier:"com.microsoft.VSCodeInsiders",npm_package_browserslist_production_1:"not dead",PWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_browserslist_production_0:">0.2%",JAVA_HOME:"/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home",npm_package_dependencies__100mslive_react_sdk:"0.1.4",npm_lifecycle_event:"build",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_mobx:"^6.3.12",npm_package_dependencies_js_confetti:"^0.10.2",LOCAL_GIT_DIRECTORY:"/Applications/GitHub Desktop.app/Contents/Resources/app/git",LANG:"en_US.UTF-8",npm_package_name:"100ms_edtech_template",npm_package_devDependencies_eslint_plugin_import:"^2.25.4",npm_package_dependencies__100mslive_hms_virtual_background:"1.4.4",npm_package_scripts_esbuild:"node ../../scripts/build-webapp",npm_package_scripts_start:"webpack serve",npm_package_scripts_build:"webpack --node-env production",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_devDependencies__babel_eslint_parser:"^7.17.0",npm_package_dependencies_react_router_dom:"^6.3.0",npm_package_devDependencies_eslint_config_react_app:"^7.0.0",npm_config_bin_links:"true",npm_package_main:"dist/index.cjs.js",XPC_SERVICE_NAME:"0",npm_package_dependencies_recordrtc:"^5.6.2",npm_package_version:"0.1.4",npm_package_devDependencies_autoprefixer:"^10.4.2",SHLVL:"2",HOME:"/Users/rajesh",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_hls_js:"^1.1.1",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",LOGNAME:"rajesh",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies_html_webpack_plugin:"^5.5.0",npm_package_scripts_format:"prettier -w src",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/vscode-git-49e2058bcb.sock",npm_package_dependencies_react:"^18.1.0",npm_package_devDependencies_webpack_manifest_plugin:"^4.1.1",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.10 npm/? node/v14.15.1 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code - Insiders.app/Contents/Frameworks/Code - Insiders Helper.app/Contents/MacOS/Code - Insiders Helper",npm_package_files_1:"src",npm_package_files_0:"dist",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_devDependencies_css_loader:"^6.5.1",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",npm_package_devDependencies_eslint_webpack_plugin:"^3.1.1",npm_config_version_tag_prefix:"v",NODE_ENV:"production",REACT_APP_TILE_SHAPE:"1-1",REACT_APP_THEME:"dark",REACT_APP_COLOR:"#2F80FF",REACT_APP_LOGO:"",REACT_APP_FONT:"Roboto",REACT_APP_SHOW_CHAT:"true",REACT_APP_SHOW_SCREENSHARE:"true",REACT_APP_VIDEO_AVATAR:"true",REACT_APP_TOKEN_GENERATION_ENDPOINT:"https://prod-in2.100ms.live/hmsapi/dopaminefit.app.100ms.live/",REACT_APP_ENV:"prod",REACT_APP_LOGROCKET_ID:"<Your Logrocket project ID>",REACT_APP_POLICY_CONFIG:'{"expert":{"center": ["customer"],"sidepane":["expert"]}}',REACT_APP_WEBINAR_PROPS:"{}",REACT_APP_DEFAULT_APP_DETAILS:"{}",REACT_APP_ENABLE_STATS_FOR_NERDS:"false",REACT_APP_PUSHER_APP_KEY:"",REACT_APP_PUSHER_AUTHENDPOINT:"",REACT_APP_HEADLESS_JOIN:"false"}.REACT_APP_TRANSCRIPTION_PUSHER_AUTHENDPOINT});let A=null;function V(){const[s,e]=(0,m.useState)(!1),[n,r]=(0,m.useState)(""),[p,d]=(0,m.useState)(""),_=(0,m.useRef)(null),a=(0,k._U)(b.j5),t=(0,k._U)(b.xf),c=(0,k.C1)(),u=(0,m.useCallback)((g=null)=>{_.current||(_.current=new K(r,d),_.current.enabled=!1),g!==!1&&(g=!s),_.current.enableTranscription(g),e(g)},[s]);return(0,m.useEffect)(()=>{A=F.subscribe(`private-${a}`),A.bind("client-transcription",({text:g})=>{if(g){let l=JSON.parse(g);l&&l.transcriptionConfig?u(!s&&l.transcriptionConfig.isEnabled):l&&l.peername&&l.transcript!==""&&(r(l.transcript),d("["+l.peername+"]"),l.isEnabled&&!s&&u(),setTimeout(()=>{r(""),d("")},5e3))}})},[a,s,u]),(0,m.useEffect)(()=>{!c||_.current&&s&&c.type===b.a5.PEER_JOINED&&_.current.broadcast(JSON.stringify({transcriptionConfig:{isEnabled:!0}}))},[c,s]),o.createElement(o.Fragment,null,o.createElement(T.x,{css:{textAlign:"left",fontWeight:"$medium",bottom:"120px",position:"fixed",width:"100%",fontSize:"$20px",zIndex:"1000000",color:"white",textShadow:"0px 0px 6px #000",whiteSpace:"pre-line",paddingLeft:"40px"}}),o.createElement(T.x,{css:{textAlign:"center",fontWeight:"$medium",bottom:"90px",position:"fixed",width:"100%",fontSize:"$20px",zIndex:"1000000",color:"white",textShadow:"0px 0px 6px #000",whiteSpace:"pre-line"}},o.createElement(f.x,{css:{color:"white",textShadow:"0px 0px 6px #000"}},n),o.createElement(f.x,{css:{color:"#c0bbbb",textShadow:"0px 0px 6px #000",textTransform:"capitalize"}},p)),t.audio&&o.createElement(O.u,{title:`Turn ${s?"off":"on"} transcription`},o.createElement(I.h,{css:{mx:"$4"},active:!s,onClick:u,"data-testid":"transcription_btn"},o.createElement(N.Z,null))))}class K{constructor(e,n){G(this,"broadcast",(r,p="transcription")=>{A.trigger(`client-${p}`,{text:r,eventName:p})}),this.enabled=!1,this.socket=null,this.totalTimeDiff=0,this.totalCount=0,this.streams={},this.setTranscript=e,this.setSpeakingPeer=n,this.initialized=!1,this.lastMessage={},this.localPeerId=null,this.sttTuningConfig={timeSlice:250,desiredSampRate:8e3,numberOfAudioChannels:1,bufferSize:256}}listen(){return R(this,null,function*(){try{const e=window.__hms.sdk.getLocalPeer();this.localPeerId=e.peerId,this.streams[e.peerId]={stream:new MediaStream([e.audioTrack.nativeTrack]),name:e.name};let n={npm_package_devDependencies_prettier:"^2.5.1",npm_package_devDependencies_source_map_loader:"^3.0.1",TERM_PROGRAM:"vscode",npm_package_devDependencies_cssnano:"^5.0.15",NODE:"/usr/local/bin/node",npm_package_dependencies_worker_timers:"^7.0.40",INIT_CWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_devDependencies_terser_webpack_plugin:"^5.3.1",npm_package_dependencies_logrocket_react:"^5.0.1",npm_config_version_git_tag:"true",SHELL:"/bin/zsh",TERM:"xterm-256color",TMPDIR:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/",npm_package_dependencies_react_freeze:"^1.0.0",npm_package_dependencies__100mslive_react_icons:"0.1.4",npm_config_init_license:"MIT",TERM_PROGRAM_VERSION:"1.69.0-insider",npm_package_dependencies_screenfull:"^5.1.0",npm_package_scripts_dev:"node ../../scripts/dev-webapp",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",npm_package_dependencies_uuid:"^8.3.2",npm_package_dependencies_pusher_js:"^7.0.3",npm_package_private:"true",npm_config_registry:"https://registry.yarnpkg.com",npm_package_dependencies_react_dom:"^18.1.0",npm_package_readmeFilename:"README.md",USER:"rajesh",npm_package_description:"[![Documentation](https://img.shields.io/badge/Read-Documentation-blue)](https://docs.100ms.live/javascript/v2/foundation/basics) [![Discord](https://img.shields.io/badge/Community-Join%20on%20Discord-blue)](https://discord.gg/F8cNgbjSaQ) [![Email](https://img.shields.io/badge/Contact-Know%20More-blue)](mailto:founders@100ms.live)",npm_package_devDependencies_webpack:"^5.69.1",npm_package_dependencies_web_vitals:"^1.0.1",npm_package_license:"MIT",npm_package_devDependencies_webpack_cli:"^4.9.2",npm_package_devDependencies_dotenv:"^14.2.0",COMMAND_MODE:"unix2003",npm_package_devDependencies_postcss_loader:"^6.2.1",npm_package_scripts_prebuild:"rm -rf build",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies_webpack_dev_server:"^4.7.4",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_dependencies_logrocket:"^2.2.0",npm_package_dependencies__100mslive_hms_noise_suppression:"0.2.4",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.yXvh3GvBBO/Listeners",npm_package_devDependencies_esbuild_plugin_postcss2:"0.1.1",npm_package_devDependencies_esbuild_loader:"^2.18.0",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_package_devDependencies_postcss:"^8.4.5",npm_package_devDependencies_eslint:"^8.9.0",npm_package_browserslist_development_2:"last 1 safari version",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__100mslive_react_ui:"0.1.4",npm_package_module:"dist/index.js",npm_package_dependencies_react_use:"^17.3.2",npm_package_devDependencies_mini_css_extract_plugin:"^2.5.2",npm_package_devDependencies_eslint_plugin_prettier:"^4.0.0",npm_package_devDependencies_copy_webpack_plugin:"^10.2.1",PATH:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/yarn--1658318502528-0.8189668608662541:/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin:/Users/rajesh/.config/yarn/link/node_modules/.bin:/usr/local/libexec/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/lib/node_modules/npm/bin/node-gyp-bin:/usr/local/bin/node_modules/npm/bin/node-gyp-bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Apple/usr/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin:/Users/rajesh/Flutter-Dev/flutter/bin:/Users/rajesh/Flutter-Dev/flutter/.pub-cache/bin",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["run","build"]}',_:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall/node_modules/.bin/webpack",npm_package_dependencies__tldraw_tldraw:"^1.5.0",__CFBundleIdentifier:"com.microsoft.VSCodeInsiders",npm_package_browserslist_production_1:"not dead",PWD:"/Users/rajesh/Projects/Bitroot/100ms-web-vidcall",npm_package_browserslist_production_0:">0.2%",JAVA_HOME:"/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home",npm_package_dependencies__100mslive_react_sdk:"0.1.4",npm_lifecycle_event:"build",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_mobx:"^6.3.12",npm_package_dependencies_js_confetti:"^0.10.2",LOCAL_GIT_DIRECTORY:"/Applications/GitHub Desktop.app/Contents/Resources/app/git",LANG:"en_US.UTF-8",npm_package_name:"100ms_edtech_template",npm_package_devDependencies_eslint_plugin_import:"^2.25.4",npm_package_dependencies__100mslive_hms_virtual_background:"1.4.4",npm_package_scripts_esbuild:"node ../../scripts/build-webapp",npm_package_scripts_start:"webpack serve",npm_package_scripts_build:"webpack --node-env production",npm_config_version_commit_hooks:"true",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_package_devDependencies__babel_eslint_parser:"^7.17.0",npm_package_dependencies_react_router_dom:"^6.3.0",npm_package_devDependencies_eslint_config_react_app:"^7.0.0",npm_config_bin_links:"true",npm_package_main:"dist/index.cjs.js",XPC_SERVICE_NAME:"0",npm_package_dependencies_recordrtc:"^5.6.2",npm_package_version:"0.1.4",npm_package_devDependencies_autoprefixer:"^10.4.2",SHLVL:"2",HOME:"/Users/rajesh",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_package_dependencies_hls_js:"^1.1.1",npm_config_save_prefix:"^",npm_config_strict_ssl:"true",npm_config_version_git_message:"v%s",LOGNAME:"rajesh",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies_html_webpack_plugin:"^5.5.0",npm_package_scripts_format:"prettier -w src",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/zd/_38ky47x4sg55g0ng1pjgz5h0000gn/T/vscode-git-49e2058bcb.sock",npm_package_dependencies_react:"^18.1.0",npm_package_devDependencies_webpack_manifest_plugin:"^4.1.1",npm_config_version_git_sign:"",npm_config_ignore_scripts:"",npm_config_user_agent:"yarn/1.22.10 npm/? node/v14.15.1 darwin x64",GIT_ASKPASS:"/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code - Insiders.app/Contents/Frameworks/Code - Insiders Helper.app/Contents/MacOS/Code - Insiders Helper",npm_package_files_1:"src",npm_package_files_0:"dist",npm_config_init_version:"1.0.0",npm_config_ignore_optional:"",npm_package_devDependencies_css_loader:"^6.5.1",COLORTERM:"truecolor",npm_node_execpath:"/usr/local/bin/node",npm_package_devDependencies_eslint_webpack_plugin:"^3.1.1",npm_config_version_tag_prefix:"v",NODE_ENV:"production",REACT_APP_TILE_SHAPE:"1-1",REACT_APP_THEME:"dark",REACT_APP_COLOR:"#2F80FF",REACT_APP_LOGO:"",REACT_APP_FONT:"Roboto",REACT_APP_SHOW_CHAT:"true",REACT_APP_SHOW_SCREENSHARE:"true",REACT_APP_VIDEO_AVATAR:"true",REACT_APP_TOKEN_GENERATION_ENDPOINT:"https://prod-in2.100ms.live/hmsapi/dopaminefit.app.100ms.live/",REACT_APP_ENV:"prod",REACT_APP_LOGROCKET_ID:"<Your Logrocket project ID>",REACT_APP_POLICY_CONFIG:'{"expert":{"center": ["customer"],"sidepane":["expert"]}}',REACT_APP_WEBINAR_PROPS:"{}",REACT_APP_DEFAULT_APP_DETAILS:"{}",REACT_APP_ENABLE_STATS_FOR_NERDS:"false",REACT_APP_PUSHER_APP_KEY:"",REACT_APP_PUSHER_AUTHENDPOINT:"",REACT_APP_HEADLESS_JOIN:"false"}.REACT_APP_DYNAMIC_STT_TOKEN_GENERATION_ENDPOINT,p=yield(yield fetch(n)).json();if(p&&p.token){const d=p.token;this.socket=yield new WebSocket(`wss://api.assemblyai.com/v2/realtime/ws?sample_rate=${this.sttTuningConfig.desiredSampRate}&token=${d}`),this.setTranscript(""),this.socket.onmessage=_=>{try{const a=JSON.parse(_.data);if(a.text&&this.enabled){let t=this.streams[this.localPeerId].name,c=a.text.length>=80?a.text.split(" ").slice(Math.max(a.text.split(" ").length-10,1)).join(" "):a.text;this.setTranscript(c),this.setSpeakingPeer("[You]"),setTimeout(()=>{this.setTranscript(""),this.setSpeakingPeer("")},5e3),this.broadcast(JSON.stringify({peername:t,transcript:c,isEnabled:this.enabled}))}}catch(a){console.error("transcription",a)}},this.socket.onerror=_=>{console.error("transcription",_),this.socket.close()},this.socket.onclose=_=>{try{console.log(_),this.socket=null,this.enabled&&this.listen()}catch(a){console.error("transcription",a)}},this.socket.onopen=()=>{try{for(let _ in this.streams)this.observeStream(this.streams[_].stream)}catch(_){console.error("transcription",_)}}}else console.log("Unable to fetch dynamic token!!")}catch(e){console.error("transcription",e)}})}observeStream(e){return R(this,null,function*(){new(S())(e,H(U({},this.sttTuningConfig),{type:"audio",mimeType:"audio/webm;codecs=pcm",recorderType:P.StereoAudioRecorder,ondataavailable:r=>{const p=new FileReader;p.onload=()=>{const d=p.result;if(this.socket&&this.enabled&&this.socket.readyState&&this.socket.readyState===1)try{this.socket.send(JSON.stringify({audio_data:d.split("base64,")[1]}))}catch(_){console.error("transcription",_)}},p.readAsDataURL(r)}})).startRecording()})}enableTranscription(e){e&&!this.enabled?(this.enabled=!0,this.listen(),this.broadcast(JSON.stringify({transcriptionConfig:{isEnabled:!0}}))):!e&&this.enabled&&(this.broadcast(JSON.stringify({transcriptionConfig:{isEnabled:!1}})),this.enabled=!1,this.socket.close(),this.socket=null,setTimeout(()=>{this.setTranscript("")},200))}}}}]);

//# sourceMappingURL=922.b7a72f7f.js.map