"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[726],{9112:(ce,Z,t)=>{t.d(Z,{M:()=>d});var e=t(3751),P=t(8081),S=t(5581);const d=(...p)=>(0,e._U)((0,P.Dv)(S._8.appConfig,...p))},8961:(ce,Z,t)=>{t.d(Z,{Z:()=>S});var e=t(8081),P=t(3751);const S=d=>{const p=d===e.Mv.audio,E=p?e.Hx:e.k0,R=(0,P._U)(E.selectedItem),F=(0,P._U)(E.selection),A=(0,P._U)(E.list),U=(0,P.cw)(),J=p?U.audioPlaylist:U.videoPlaylist;return{active:R,hasNext:F.hasNext,hasPrevious:F.hasPrevious,actions:J,list:A}}},9121:(ce,Z,t)=>{t.d(Z,{VK:()=>ae,nN:()=>I,l0:()=>ne.l});var e=t(8160),P=t(3512),S=t(3751),d=t(8081),p=t(108),E=t.n(p),R=Object.defineProperty,F=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,J=(O,h,u)=>h in O?R(O,h,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[h]=u,L=(O,h)=>{for(var u in h||(h={}))A.call(h,u)&&J(O,u,h[u]);if(F)for(var u of F(h))U.call(h,u)&&J(O,u,h[u]);return O},N=(O,h,u)=>(J(O,typeof h!="symbol"?h+"":h,u),u);const k=O=>JSON.stringify(O,(h,u)=>u===void 0?null:u);class te{constructor(){N(this,"init",(h="")=>{this.initialized||(this.pusher=new(E())({NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_PUSHER_APP_KEY,{cluster:"ap2",authEndpoint:{NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_PUSHER_AUTHENDPOINT}),this.channel=this.pusher.subscribe(`private-${h}`),this.channel.bind("pusher:subscription_succeeded",this.resendLastEvents),console.log("Whiteboard initialized communication through Pusher"),this.initialized=!0)}),N(this,"storeEvent",(h,u)=>{this.lastMessage[h]=L({eventName:h},u)}),N(this,"getStoredEvent",h=>this.lastMessage[h]),N(this,"broadcastEvent",(h,u={})=>{this.storeEvent(h,u),this.channel.trigger(`client-${h}`,k(L({eventName:h},u)))}),N(this,"subscribe",(h,u)=>(this.channel.bind(`client-${h}`,b=>this.storeEvent(h,b)),this.channel.bind(`client-${h}`,u),()=>{this.channel.unbind(`client-${h}`,u)})),N(this,"resendLastEvents",()=>{for(const h in this.lastMessage)this.lastMessage[h]&&this.channel.trigger(`client-${h}`,this.lastMessage[h])}),this.initialized=!1,this.lastMessage={}}}const G=new te;var ne=t(802);const x={STATE_CHANGE:"state-change",CURRENT_STATE:"current-state",REQUEST_STATE:"request-state"},se=()=>{const{amIWhiteboardOwner:O}=(0,ne.l)();return{shouldRequestState:(0,S._U)((0,d._u)(850)),amIWhiteboardOwner:O}};function V(O){const[h,u]=(0,e.useState)(null),[b,B]=(0,e.useState)(!1),{amIWhiteboardOwner:K,shouldRequestState:C}=se(),M=(0,e.useRef)(new Map),H=(0,e.useRef)(new Map),z=(0,e.useCallback)(()=>({shapes:M.current?Object.fromEntries(M.current):{},bindings:H.current?Object.fromEntries(H.current):{}}),[]),Y=(0,e.useCallback)(()=>{K&&b&&G.broadcastEvent(x.CURRENT_STATE,z())},[K,b,z]),ie=(0,e.useCallback)(({shapes:ee,bindings:me,merge:le=!0})=>{if(!!(ee&&me))if(le){const Ee=M.current,Ae=H.current;if(!(Ee&&Ae))return;Object.entries(ee).forEach(([Te,ge])=>{ge?Ee.set(ge.id,ge):Ee.delete(Te)}),Object.entries(me).forEach(([Te,ge])=>{ge?Ae.set(ge.id,ge):Ae.delete(Te)})}else M.current=new Map(Object.entries(ee)),H.current=new Map(Object.entries(me))},[]),de=(0,e.useCallback)(ee=>{h?.replacePageContent(ee.shapes,ee.bindings,{})},[h]),q=(0,e.useCallback)(ee=>{if(!ee)return;const{shapes:me,bindings:le,eventName:Ee}=ee;ie({shapes:me,bindings:le,merge:Ee===x.STATE_CHANGE}),de(z())},[de,z,ie]),he=(0,e.useCallback)(()=>{!b||(K?(q(G.getStoredEvent(x.CURRENT_STATE)),Y()):C&&G.broadcastEvent(x.REQUEST_STATE))},[b,K,C,q,Y]),_e=(0,e.useCallback)(ee=>{ee.loadRoom(O),ee.pause(),u(ee)},[O]),xe=(0,e.useCallback)((ee,me,le,Ee)=>{ie({shapes:me,bindings:le}),G.broadcastEvent(x.STATE_CHANGE,{shapes:me,bindings:le}),de(z())},[ie,de,z]);return(0,e.useEffect)(()=>{if(!h)return;const ee=[];let me=!0;function le(){me&&(ee.push(G.subscribe(x.STATE_CHANGE,q)),ee.push(G.subscribe(x.CURRENT_STATE,q)),ee.push(G.subscribe(x.REQUEST_STATE,Y)),B(!0))}return G.init(),le(),he(),()=>{me=!1,ee.forEach(Ee=>Ee())}},[h,he,Y,q]),(0,e.useEffect)(()=>()=>{b&&!C&&(console.log("Whiteboard unmount storing",z()),G.storeEvent(x.CURRENT_STATE,z()))},[b,C,z]),{onMount:_e,onChangePage:xe}}var W=Object.defineProperty,D=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,g=(O,h,u)=>h in O?W(O,h,{enumerable:!0,configurable:!0,writable:!0,value:u}):O[h]=u,f=(O,h)=>{for(var u in h||(h={}))_.call(h,u)&&g(O,u,h[u]);if(D)for(var u of D(h))y.call(h,u)&&g(O,u,h[u]);return O};const I=e.memo(({roomId:O})=>{const h=V(O);return e.createElement(P.Dr,f({autofocus:!0,disableAssets:!0,showSponsorLink:!1,showPages:!1,showMenu:!1},h))});var $=t(455),Q=t(9168),T=t(7777),w=t(8160);const ae=()=>{const{whiteboardEnabled:O,whiteboardOwner:h,amIWhiteboardOwner:u,toggleWhiteboard:b}=(0,ne.l)();return O?w.createElement($.u,{title:`${h?u?"Stop whiteboard":"Can't stop whiteboard":"Start whiteboard"}`,key:"whiteboard"},w.createElement(T.Z,{onClick:b,active:!h,disabled:h&&!u,"data-testid":"white_board_btn"},w.createElement(Q.Z,null))):null}},9990:(ce,Z,t)=>{t.d(Z,{iS:()=>V,Nc:()=>W});var e=t(8160),P=t(8081),S=t(3751),d=t(6905),p=t(4817),E=t(8338),R=t(4053),F=t(4334),A=t(7506),U=t(8651),J=t(6939),L=t(8485),N=t(8721),k=t(5861),te=t(8961);const G=({type:D,duration:_})=>{const y=D===P.Mv.audio?P.Hx:P.k0,g=(0,S._U)(y.progress),f=(0,S.cw)(),I=D===P.Mv.audio?f.audioPlaylist:f.videoPlaylist;return _?e.createElement(U.i,{step:1,value:[g],onValueChange:$=>{I.seekTo($[0]*.01*_)}}):null},ne=({type:D,onToggle:_})=>{var y,g;const I=D===P.Mv.audio?P.Hx:P.k0,$=(0,S._U)(I.selectedItem);return $?e.createElement(J.x,{css:{mt:"$8"}},e.createElement(L.k,{justify:"between",css:{w:"100%"}},e.createElement(J.x,null,e.createElement(N.x,{variant:"md"},$.name),((y=$.metadata)==null?void 0:y.description)&&e.createElement(N.x,{variant:"xs"},(g=$.metadata)==null?void 0:g.description)),e.createElement(k.h,{onClick:_,css:{alignSelf:"center"},"data-testid":"playlist_collapse_btn"},e.createElement(d.Z,null)))):null},x=({type:D,css:_={}})=>{const{active:y,hasNext:g,hasPrevious:f,actions:I}=(0,te.Z)(D);return y?e.createElement(L.k,{justify:"center",css:_},e.createElement(k.h,{disabled:!f,onClick:()=>{I.playPrevious()},"data-testid":"playlist_prev_btn"},e.createElement(p.Z,null)),e.createElement(k.h,{onClick:()=>{y.playing?I.pause():I.play(y.id)},"data-testid":"playlist_play_pause_btn"},y.playing?e.createElement(E.Z,{width:32,height:32}):e.createElement(R.Z,{width:32,height:32})),e.createElement(k.h,{disabled:!g,onClick:()=>{I.playNext()},"data-testid":"playlist_next_btn"},e.createElement(F.Z,null))):null},se=()=>{const D=(0,S.cw)(),_=(0,S._U)(P.k0.volume),y=(0,S._U)(P.k0.selectedItem),g=(0,S._U)(P.Oq),f=(0,S._U)((0,P.n2)(g?.id)),I=(0,S._U)((0,P.BF)(f?.id)),$=y?_:I;return e.createElement(L.k,{align:"center",css:{color:"$white"}},e.createElement(A.Z,null),e.createElement(U.i,{css:{mx:"$4",w:"$20"},min:0,max:100,step:1,value:[Math.floor($)],onValueChange:Q=>{const T=Q[0];y?D.videoPlaylist.setVolume(T):f&&D.setVolume(T,f.id)},thumbStyles:{w:"$6",h:"$6"}}))},V=({onToggle:D})=>{const{active:_}=(0,te.Z)(P.Mv.audio);return _?e.createElement(J.x,{css:{p:"$8",borderTop:"1px solid $borderLight",bg:"$menuBg"}},e.createElement(x,{type:P.Mv.audio}),e.createElement(G,{type:P.Mv.audio,duration:_.duration}),e.createElement(ne,{type:P.Mv.audio,onToggle:D})):null},W=({children:D})=>{const{active:_}=(0,te.Z)(P.Mv.video);return e.createElement(J.x,{css:{p:"$8",mt:"-$24",w:"100%",zIndex:1,"@lg":{mt:0,p:"$6"}}},_&&e.createElement(G,{type:P.Mv.video,duration:_.duration}),e.createElement(L.k,{align:"center",justify:"between"},e.createElement(se,null),_&&e.createElement(x,{css:{flex:"1 1 0"}}),D))}},9477:(ce,Z,t)=>{t.d(Z,{Z:()=>se});var e=t(8160),P=t(8523),S=t.n(P),d=t(8379),p=t(3751),E=t(8081),R=t(6532),F=t(7854),A=t(1280),U=t(4299),J=t(3074),L=t(6567),N=t(6773),k=t(3844),te=t(5581);const G={position:"unset",width:"100%",textAlign:"center",transform:"none",mt:"$2",flexShrink:0},ne=({peerId:V,width:W="100%",height:D="100%"})=>{const _=(0,p._U)((0,E.K6)(V)),y=(0,p._U)((0,E.Nm)(V)),g=(0,N.L3)(te.JZ.isAudioOnly),f=(0,N.tQ)(),[I,$]=(0,e.useState)(!1),Q=(0,N.L3)(te.JZ.showStatsOnTiles),T=(0,k.O)({peerName:y.name,isLocal:!1,track:_}),w=(0,e.useRef)(null),[ae,O]=(0,e.useState)(!1),h=(0,d.Z)(w,ae,{onClose:()=>O(!1)}),u=S().isEnabled,b=(0,p._U)((0,E.Qq)(y?.id));return e.createElement(A.i.Root,{css:{width:W,height:D},"data-testid":"screenshare_tile"},y?e.createElement(A.i.Container,{transparentBg:!0,ref:w,css:{flexDirection:"column"},onMouseEnter:()=>$(!0),onMouseLeave:()=>{$(!1)}},Q?e.createElement(U.q8,{audioTrackID:b?.id,videoTrackID:_?.id}):null,u&&!f?e.createElement(A.i.FullScreenButton,{onClick:()=>O(!ae)},h?e.createElement(R.Z,null):e.createElement(F.Z,null)):null,_?e.createElement(J.n,{screenShare:!0,mirror:y.isLocal&&_?.source==="regular",attach:!g,trackId:_.id}):null,e.createElement(A.i.Info,{css:G},T),I&&!f&&!y?.isLocal?e.createElement(L.Z,{isScreenshare:!0,peerID:y?.id,audioTrackID:b?.id,videoTrackID:_?.id}):null):null)},se=e.memo(ne)},6567:(ce,Z,t)=>{t.d(Z,{Z:()=>ne});var e=t(8160),P=t(4328),S=t(8111),d=t(7923),p=t(6548),E=t(8981),R=t(7506),F=t(9540),A=t(3751),U=t(8081),J=t(4866),L=t(8414),N=t(8485),k=t(8651),te=(x,se,V)=>new Promise((W,D)=>{var _=f=>{try{g(V.next(f))}catch(I){D(I)}},y=f=>{try{g(V.throw(f))}catch(I){D(I)}},g=f=>f.done?W(f.value):Promise.resolve(f.value).then(_,y);g((V=V.apply(x,se)).next())});const ne=({audioTrackID:x,videoTrackID:se,peerID:V,isScreenshare:W=!1})=>{const D=(0,A.cw)();let{removeOthers:_}=(0,A._U)(U.AI);_=_&&!W;const{isAudioEnabled:y,isVideoEnabled:g,setVolume:f,toggleAudio:I,toggleVideo:$,volume:Q}=(0,J.T)(x,se);return _||I||$||f?e.createElement(L.R.Root,null,e.createElement(L.R.Trigger,{"data-testid":"participant_menu_btn"},e.createElement(P.Z,null)),e.createElement(L.R.Content,{side:"top",align:"end",sideOffset:8},$?e.createElement(L.R.ItemButton,{onClick:$,"data-testid":g?"mute_video_participant_btn":"unmute_video_participant_btn"},g?e.createElement(S.Z,null):e.createElement(d.Z,null),e.createElement("span",null,`${g?"Mute":"Request Unmute"}`)):null,I?e.createElement(L.R.ItemButton,{onClick:I,"data-testid":g?"mute_audio_participant_btn":"unmute_audio_participant_btn"},y?e.createElement(p.Z,null):e.createElement(E.Z,null),e.createElement("span",null,`${y?"Mute":"Request Unmute"}`)):null,x?e.createElement(L.R.VolumeItem,{"data-testid":"participant_volume_slider"},e.createElement(N.k,{align:"center",gap:1},e.createElement(R.Z,null)," ",e.createElement("span",null,"Volume (",Q,")")),e.createElement(k.i,{css:{my:"0.5rem"},step:5,value:[Q],onValueChange:T=>f(T[0])})):null,_?e.createElement(L.R.RemoveItem,{onClick:()=>te(void 0,null,function*(){try{yield D.removePeer(V,"")}catch{}}),"data-testid":"remove_participant_btn"},e.createElement(F.Z,null),e.createElement("span",null,"Remove Participant")):null)):null}},8051:(ce,Z,t)=>{t.d(Z,{Z:()=>se});var e=t(8160),P=t(5683),S=t(9314),d=t(8613),p=t(8534),E=t(871),R=t(8329),F=t(9477),A=t(9478),U=t(4674),J=t(4718),L=t(3385);const N=({page:V,setPage:W,numPages:D})=>{const _=V===0,y=V===D-1,g=()=>{W(Math.min(V+1,D-1))},f=()=>{W(Math.max(V-1,0))};return e.createElement(U.I.Root,null,e.createElement(U.I.Chevron,{disabled:_,onClick:f},e.createElement(J.Z,{width:16,height:16,style:{cursor:_?"not-allowed":"pointer"}})),e.createElement(U.I.Dots,null,[...Array(D)].map((I,$)=>e.createElement(U.I.Dot,{key:$,active:V===$,onClick:()=>W($)}))),e.createElement(U.I.Chevron,{disabled:y,onClick:g},e.createElement(L.Z,{width:16,height:16,style:{cursor:y?"not-allowed":"pointer"}})))};var k=t(9112),te=t(6773);const G=({maxTileCount:V,peers:W,maxColCount:D,maxRowCount:_,includeScreenShareForPeer:y})=>{const{aspectRatio:g}=(0,S.Fg)(),f=(0,k.M)("headlessConfig","tileOffset"),I=(0,te.tQ)(),{ref:$,pagesWithTiles:Q}=(0,E.i)({peers:W,maxTileCount:V,maxColCount:D,maxRowCount:_,includeScreenShareForPeer:y,aspectRatio:g,offsetY:x({isHeadless:I,tileOffset:f})}),[T,w]=(0,e.useState)(0);(0,e.useEffect)(()=>{T>=Q.length&&w(0)},[Q.length,T]);const ae=A.T.freezeVideoList();return e.createElement(d.d.Root,{ref:$},e.createElement(d.d.Container,null,Q&&Q.length>0?Q.map((O,h)=>e.createElement(P.f,{freeze:ae&&T!==h,key:h},e.createElement(d.d.View,{css:{left:(0,p.I)(h,T),transition:"left 0.3s ease-in-out"}},O.map((u,b)=>{var B,K,C,M;return((B=u.track)==null?void 0:B.source)==="screen"?e.createElement(F.Z,{key:u.track.id,width:u.width,height:u.height,peerId:u.peer.id}):e.createElement(R.Z,{key:((K=u.track)==null?void 0:K.id)||u.peer.id,width:u.width,height:u.height,peerId:(C=u.peer)==null?void 0:C.id,trackId:(M=u.track)==null?void 0:M.id})})))):null),Q.length>1?e.createElement(N,{page:T,setPage:w,numPages:Q.length}):null)},ne=e.memo(G),x=({offset:V,isHeadless:W})=>!W||typeof V!="number"?32:V,se=ne},8329:(ce,Z,t)=>{t.d(Z,{Z:()=>y});var e=t(8160),P=t(5470),S=t(1280),d=t(4299),p=t(3074),E=t(1959),R=t(8081),F=t(3751),A=t(8981),U=t(3712),J=t(3988),L=t(6567),N=t(2173),k=t(6773),te=t(9112),G=t(3844),ne=t(5581);const x=({peerId:g,trackId:f,width:I,height:$})=>{const Q=f?(0,R.M)(f):(0,R.t$)(g),T=(0,F._U)(Q),w=(0,F._U)((0,R.I_)(g)),ae=(0,F._U)((0,R.L6)(g)),O=(0,F._U)(R.I3),h=(0,k.L3)(ne.JZ.isAudioOnly),u=(0,k.L3)(ne.JZ.showStatsOnTiles),b=(0,k.tQ)(),B=!(0,F._U)((0,R.xn)(g)),K=!T?.enabled,[C,M]=(0,e.useState)(!1),H=(0,P.W)(ae?.id),z=T?.degraded,Y=O===g,ie=(0,G.O)({peerName:w,track:T,isLocal:Y}),de=(0,e.useCallback)(_e=>{M(_e.type==="mouseenter")},[]),q=(0,te.M)("headlessConfig"),he=b&&q?.hideTileName;return e.createElement(S.i.Root,{css:{width:I,height:$,padding:_({isHeadless:b,offset:q?.tileOffset})},"data-testid":`participant_tile_${w}`},w!==void 0?e.createElement(S.i.Container,{onMouseEnter:de,onMouseLeave:de,ref:b&&q?.hideAudioLevel?void 0:H},e.createElement(N.Z,{hideLabel:he,name:ie,isTile:!0,peerId:g,width:I}),u?e.createElement(d.q8,{audioTrackID:ae?.id,videoTrackID:T?.id,peerID:g}):null,T?e.createElement(p.n,{trackId:T?.id,attach:Y?void 0:!h,mirror:g===O&&T?.source==="regular",degraded:z,"data-testid":"participant_video_tile"}):null,e.createElement(S.i.AvatarContainer,null,K||z||h?e.createElement(E.q,{name:w||"","data-testid":"participant_avatar_icon"}):null),D({hideTileAudioMute:q?.hideTileAudioMute,isHeadless:b,isAudioMuted:B})?e.createElement(S.i.AudioIndicator,{"data-testid":"participant_audio_mute_icon"},e.createElement(A.Z,null)):null,C&&!b&&!Y?e.createElement(L.Z,{peerID:g,audioTrackID:ae?.id,videoTrackID:T?.id}):null,e.createElement(V,{peerId:g})):null)},se={top:"$4",left:"$4"},V=({peerId:g})=>{const f=(0,F._U)((0,R.cH)(g)),I=f?.isHandRaised||!1,$=f?.isBRBOn||!1;return e.createElement(e.Fragment,null,I?e.createElement(S.i.AttributeBox,{css:se,"data-testid":"raiseHand_icon_onTile"},e.createElement(U.Z,{width:40,height:40})):null,$?e.createElement(S.i.AttributeBox,{css:se,"data-testid":"brb_icon_onTile"},e.createElement(J.Z,{width:40,height:40})):null)},W=e.memo(x),D=({hideTileAudioMute:g,isHeadless:f,isAudioMuted:I})=>f?I&&!g:I,_=({isHeadless:g,offset:f})=>{if(!(!g||typeof f!="number"))return f===0?0:void 0},y=W},1726:(ce,Z,t)=>{t.r(Z),t.d(Z,{default:()=>En});var e=t(8160),P=t(841),S=t(3738),d=t(3751),p=t(8081),E=t(8485),R=t(6939),F=t(5374),A=t(4778),U=t(6773);const J=()=>{var l,n;const s=(0,d.cw)(),o=(0,U.tQ)(),a=(0,d._U)(p.lj);return!a?.role||o?null:e.createElement(A.wq,{title:"Role Change Request",onOpenChange:i=>!i&&s.rejectChangeRole(a),body:`${(l=a?.requestedBy)==null?void 0:l.name} has requested you to change your role to ${(n=a?.role)==null?void 0:n.name}.`,onAction:()=>{s.acceptChangeRole(a)},actionText:"Accept"})};var L=t(9655),N=t(5581);const k=l=>(0,d._U)((0,p.Dv)(N._8.appLayout,l)),te=()=>{const l=k("center")||[],n=k("sidepane")||[],s=(0,U.L3)(N.JZ.maxTileCount),o=(0,d._U)(p.BK),a=(0,d._U)(p.I3),i=o.filter(r=>l.includes(r.roleName)),c=o.filter(r=>n.includes(r.roleName));let m=i.length>0&&c.length>0;if(i.length===0){const r=o.length===1&&o[0].id===a,v=c.length===0;m=r||v}return e.createElement(E.k,{css:{size:"100%"},direction:{"@initial":"row","@md":"column"}},e.createElement(L.m,{peers:m?i:o,maxTileCount:s,allowRemoteMute:!1,hideSidePane:!m,totalPeers:o.length}),m&&e.createElement(L.O,{peers:c,totalPeers:o.length}))};var G=t(6154),ne=t(535),x=t(7158);const se=(l=5*60*1e3)=>{const n=(0,d._U)(p.ln),s=(0,d._U)(p.dA),[o,a]=(0,e.useState)(!1),i=(0,e.useRef)(null),c=n&&s===1;return(0,e.useEffect)(()=>{c&&!i.current?i.current=setTimeout(()=>{a(!0)},l):c||(i.current&&clearTimeout(i.current),i.current=null,a(!1))},[c,l]),(0,e.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[]),{alone:c,aloneForLong:o}},V=()=>{const l=(0,d.cw)(),n=(0,d._U)(p.AI),s=(0,U.tQ)(),{aloneForLong:o}=se(),{isHLSRunning:a,isRTMPRunning:i,isBrowserRecordingOn:c}=(0,x.v)();(0,e.useEffect)(()=>{o&&s&&(n?.endRoom?l.endRoom(!1,"Stop Beam"):(a&&n?.hlsStreaming&&l.stopHLSStreaming(),(i&&n?.rtmpStreaming||c&&n?.browserRecording)&&l.stopRTMPAndRecording()))},[o,s,l,n,a,i,c])};var W=t(9121),D=t(9112);const _=e.lazy(()=>t.e(421).then(t.bind(t,9421))),y=e.lazy(()=>Promise.all([t.e(404),t.e(352)]).then(t.bind(t,3352))),g=e.lazy(()=>t.e(507).then(t.bind(t,507))),f=()=>{const l=(0,d._U)(p.fo),n=(0,d._U)(p.pk),s=(0,d._U)(p.Vq),o=(0,d._U)(p.Oq),{whiteboardOwner:a}=(0,W.l0)(),i=(0,d._U)(p.ln);V();const c=(0,d.cw)(),m=(0,U.tQ)(),r=(0,D.M)("headlessConfig","uiMode"),{uiViewMode:v,isAudioOnly:X}=(0,U.L3)(),j=(0,U.ZP)();if((0,e.useEffect)(()=>{if(!i)return;const oe=JSON.parse({NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_AUDIO_PLAYLIST||"[]"),fe=JSON.parse({NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_VIDEO_PLAYLIST||"[]");fe.length>0&&c.videoPlaylist.setList(fe),oe.length>0&&c.audioPlaylist.setList(oe)},[i,c]),!l)return null;let pe;return l===j?pe=y:a?pe=_:(n&&n.id!==s?.id||o)&&!X?pe=ne.Z:v===N.FU||m&&r===N.FU?pe=g:pe=te,e.createElement(e.Suspense,{fallback:e.createElement(F.Z,null)},e.createElement(E.k,{css:{size:"100%",position:"relative"}},e.createElement(pe,null),e.createElement(G.Z,null)))};var I=t(610),$=t(510),Q=t(9660),T=t(455),w=t(1554),ae=t(8275),O=t(6079),h=t(4241),u=t(8703),b=t(8981),B=t(3510),K=t(7632),C=t(9024),M=t(8721),H=t(32),z=t(8953),Y=t(5873),ie=t(8565),de=t(9290),q=t(7097),he=t(9953),_e=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const xe=({onClick:l})=>{const n=(0,d._U)(p.on),s=(0,d._U)(p.AI),o=(0,d._U)(p.I3),a=(0,d._U)(p.fo),i=(0,d.cw)(),c=(0,H.Z)(de.vc.media.sm),m=k("selfRoleChangeTo"),r=(0,e.useMemo)(()=>(0,he.tN)(m,n),[n,m]);return s.changeRole?c?e.createElement(C.L.Item,{onClick:l},e.createElement(z.Z,null),e.createElement(M.x,{variant:"sm",css:{mx:"$4"}},"Change My Role")):e.createElement(C.L.Root,null,e.createElement(C.L.TriggerItem,{"data-testid":"change_my_role_btn"},e.createElement(z.Z,null),e.createElement(M.x,{variant:"sm",css:{flex:"1 1 0",mx:"$4"}},"Change My Role"),e.createElement(Y.Z,null)),e.createElement(C.L.Content,{sideOffset:2,alignOffset:-5,css:{maxHeight:"$64"}},r.map((v,X)=>e.createElement(C.L.Item,{key:v,css:{justifyContent:"space-between"},onClick:()=>_e(void 0,null,function*(){try{yield i.changeRole(o,v,!0)}catch(j){q.y.addToast({title:j.message})}}),"data-testid":"change_to_role_"+v},e.createElement(M.x,{variant:"sm"},v),a===v&&e.createElement(ie.Z,{width:16,height:16}))))):null};var ee=t(7854),me=t(8523),le=t.n(me),Ee=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const Ae=()=>{const[l,n]=(0,e.useState)(le().isFullscreen),s=(0,e.useCallback)(()=>Ee(void 0,null,function*(){if(!le().isEnabled){q.y.addToast({title:"Fullscreen feature not supported"});return}try{l?yield le().exit():yield le().request()}catch(o){q.y.addToast({title:o.message})}}),[l]);return(0,e.useEffect)(()=>{const o=()=>{n(le().isFullscreen)};return le().isEnabled&&le().on("change",o),()=>{le().isEnabled&&le().off("change",o)}},[]),{allowed:le().isEnabled,isFullscreen:l,toggleFullscreen:s}},Te=()=>{const{allowed:l,isFullscreen:n,toggleFullscreen:s}=Ae();return l?e.createElement(C.L.Item,{onClick:()=>{s()},"data-testid":"full_screen_btn"},e.createElement(ee.Z,null),e.createElement(M.x,{variant:"sm",css:{ml:"$4"}},n?"Exit ":"Go ","Fullscreen")):null};var ge=t(9111),et=t(198),re=t(622),tt=t(7884),De=t(7688),Be=t(3620),nt=Object.defineProperty,st=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,je=(l,n,s)=>n in l?nt(l,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[n]=s,it=(l,n)=>{for(var s in n||(n={}))ot.call(n,s)&&je(l,s,n[s]);if(Fe)for(var s of Fe(n))at.call(n,s)&&je(l,s,n[s]);return l},rt=(l,n)=>st(l,lt(n)),We=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const ct=({onOpenChange:l})=>{const[n,s]=(0,Be.o4)(Be.lN.PREVIEW),o=(0,d.cw)(),a=(0,d._U)(p.lA),[i,c]=(0,e.useState)(a),m=()=>We(void 0,null,function*(){const r=i.trim();if(!(!r||r===a))try{yield o.changeName(r),s(rt(it({},n||{}),{name:r}))}catch(v){console.error("failed to update name",v),q.y.addToast({title:v.message})}finally{l(!1)}});return e.createElement(re.V.Root,{defaultOpen:!0,onOpenChange:l},e.createElement(re.V.Portal,null,e.createElement(re.V.Overlay,null),e.createElement(re.V.Content,{css:{width:"min(400px,80%)",p:"$10"}},e.createElement(re.V.Title,{css:{p:"0 $4"}},e.createElement(M.x,{variant:"h6"}," Change Name")),e.createElement("form",{onSubmit:r=>{r.preventDefault()}},e.createElement(E.k,{justify:"center",align:"center",css:{my:"$8",w:"100%"}},e.createElement(tt.I,{css:{width:"100%"},value:i,onChange:r=>{c(r.target.value)},autoComplete:"name",required:!0,"data-testid":"change_name_field"})),e.createElement(E.k,{justify:"between",align:"center",css:{width:"100%",gap:"$md",mt:"$10"}},e.createElement(R.x,{css:{w:"50%"}},e.createElement(re.V.Close,{css:{w:"100%"}},e.createElement(De.z,{variant:"standard",css:{w:"100%"},outlined:!0,type:"submit",disabled:!a},"Cancel"))),e.createElement(R.x,{css:{w:"50%"}},e.createElement(De.z,{variant:"primary",css:{width:"100%"},type:"submit",disabled:!i.trim()||i.trim()===a,onClick:()=>We(void 0,null,function*(){yield m()}),"data-testid":"popup_change_btn"},"Change")))))))};var dt=t(7273),mt=t(1118),Le=t(6081),ut=t(4634),pt=t(4791);const ht=({onOpenChange:l})=>{var n;const s=vt(),o=(0,e.useMemo)(()=>[{id:"local-peer",label:"Local Peer Stats"},...s],[s]),[a,i]=(0,e.useState)("local-peer"),[c,m]=(0,U.iz)(N.JZ.showStatsOnTiles),[r,v]=(0,e.useState)(!1),X=(0,pt.s)();return(0,e.useEffect)(()=>{a!=="local-peer"&&!s.find(j=>j.id===a)&&i("local-peer")},[s,a]),e.createElement(re.V.Root,{defaultOpen:!0,onOpenChange:l},e.createElement(re.V.Portal,null,e.createElement(re.V.Overlay,null),e.createElement(re.V.Content,{css:{width:"min(500px, 95%)"}},e.createElement(re.V.Title,{css:{p:"$4 0"}},e.createElement(E.k,{justify:"between"},e.createElement(E.k,{align:"center",css:{mb:"$1"}},e.createElement(M.x,{variant:"h6",inline:!0},"Stats For Nerds")),e.createElement(re.V.DefaultClose,{"data-testid":"stats_dialog_close_icon"}))),e.createElement(dt.E,{css:{mt:"0.8rem"}}),e.createElement(E.k,{justify:"start",gap:4,css:{m:"$10 0"}},e.createElement(mt.r,{checked:c,onCheckedChange:m}),e.createElement(M.x,{variant:"body2",css:{fontWeight:"$semiBold"}},"Show Stats on Tiles")),e.createElement(E.k,{direction:"column",css:{mb:"$12",position:"relative",minWidth:0,"[data-radix-popper-content-wrapper]":{w:"100%",minWidth:"0 !important",mt:"$4",transform:"translateY($space$20) !important",zIndex:11}}},e.createElement(Le._,{variant:"body2"},"Stats For"),e.createElement(C.L.Root,{"data-testid":"dialog_select_Stats For",open:r,onOpenChange:v},e.createElement(ut.l,{title:((n=o.find(({id:j})=>j===a))==null?void 0:n.label)||"Select Stats",css:{mt:"$4"},open:r}),e.createElement(C.L.Content,{align:"start",sideOffset:8,css:{w:"100%"},portalled:!1},o.map(j=>e.createElement(C.L.Item,{key:j.id,onClick:()=>{i(j.id)},css:{bg:j.id===a?X:void 0,c:j.id===a?"$white":"$textPrimary"}},j.label))))),a==="local-peer"?e.createElement(Et,null):e.createElement(gt,{trackID:a}))))},vt=()=>{const l=(0,d._U)(p.zK),n=(0,d._U)(p.iZ);return(0,e.useMemo)(()=>Object.values(l).map(o=>{var a;const i=(a=n[o.peerId])==null?void 0:a.name;return{id:o.id,label:`${i} ${o.source} ${o.type}`}}),[l,n])},Et=()=>{var l,n,s,o,a,i;const c=(0,d.p5)(p.fA.localPeerStats);return c?e.createElement(E.k,{css:{flexWrap:"wrap",gap:"$10"}},e.createElement(ue,{label:"Packets Lost",value:(l=c.subscribe)==null?void 0:l.packetsLost}),e.createElement(ue,{label:"Jitter",value:(n=c.subscribe)==null?void 0:n.jitter}),e.createElement(ue,{label:"Publish Bitrate",value:be((s=c.publish)==null?void 0:s.bitrate,"b/s")}),e.createElement(ue,{label:"Subscribe Bitrate",value:be((o=c.subscribe)==null?void 0:o.bitrate,"b/s")}),e.createElement(ue,{label:"Total Bytes Sent",value:be((a=c.publish)==null?void 0:a.bytesSent)}),e.createElement(ue,{label:"Total Bytes Received",value:be((i=c.subscribe)==null?void 0:i.bytesReceived)})):null},gt=({trackID:l})=>{const n=(0,d.p5)(p.fA.trackStatsByID(l));if(!n)return null;const s=n.type.includes("inbound");return e.createElement(E.k,{css:{flexWrap:"wrap",gap:"$10"}},e.createElement(ue,{label:"Type",value:n.type+" "+n.kind}),e.createElement(ue,{label:"Bitrate",value:be(n.bitrate,"b/s")}),e.createElement(ue,{label:"Packets Lost",value:n.packetsLost||"-"}),e.createElement(ue,{label:"Jitter",value:n.jitter||"-"}),e.createElement(ue,{label:s?"Bytes Received":"Bytes Sent",value:be(s?n.bytesReceived:n.bytesSent)}),n.kind==="video"&&e.createElement(e.Fragment,null,e.createElement(ue,{label:"Framerate",value:n.framesPerSecond}),!s&&e.createElement(ue,{label:"Quality Limitation Reason",value:n.qualityLimitationReason||"-"})))},ue=({label:l,value:n})=>e.createElement(R.x,{css:{bg:"$surfaceLight",w:"calc(50% - $6)",p:"$8",r:"$3"}},e.createElement(M.x,{variant:"overline",css:{fontWeight:"$semiBold",color:"$textMedEmp",textTransform:"uppercase"}},l," "),e.createElement(M.x,{variant:"sub1",css:{fontWeight:"$semiBold",color:"$textHighEmp"}},n)),be=(l,n="B",s=2)=>{if(l===0)return"0 "+n;const o=1024,a=s<0?0:s,i=["","K","M","G","T","P","E","Z","Y"].map(m=>m+n),c=Math.floor(Math.log(l)/Math.log(o));return parseFloat((l/Math.pow(o,c)).toFixed(a))+" "+i[c]};var ye=t(8673),ft=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const St=[{label:"All Track Sources",value:""},{label:"regular",value:"regular"},{label:"screen",value:"screen"},{label:"audioplaylist",value:"audioplaylist"},{label:"videoplaylist",value:"videoplaylist"}],_t=[{label:"All Track Types",value:""},{label:"audio",value:"audio"},{label:"video",value:"video"}],Pt=({onOpenChange:l})=>{const n=(0,d._U)(p.on),s=(0,d.cw)(),[o,a]=(0,e.useState)(!1),[i,c]=(0,e.useState)(),[m,r]=(0,e.useState)(),[v,X]=(0,e.useState)(),j=(0,e.useCallback)(()=>ft(void 0,null,function*(){yield s.setRemoteTracksEnabled({enabled:o,type:i,source:v,roles:m?[m]:void 0}),l(!1)}),[m,o,i,v,s,l]);return e.createElement(re.V.Root,{defaultOpen:!0,onOpenChange:l},e.createElement(A.cZ,{title:"Mute/Unmute Remote Tracks",Icon:b.Z},e.createElement(A.z2,{title:"Role",options:[{label:"All Roles",value:""},...n.map(pe=>({label:pe,value:pe}))],selected:m,keyField:"value",labelField:"label",onChange:r}),e.createElement(A.z2,{title:"Track type",options:_t,selected:i,onChange:c,keyField:"value",labelField:"label"}),e.createElement(A.z2,{title:"Track source",options:St,selected:v,onChange:X,keyField:"value",labelField:"label"}),e.createElement(A.DP,null,e.createElement(M.x,{variant:"md"},"Track status"),e.createElement(ye.E.Root,{value:o,onValueChange:a},e.createElement(E.k,{align:"center",css:{mr:"$8"}},e.createElement(ye.E.Item,{value:!1,id:"trackDisableRadio",css:{mr:"$4"}},e.createElement(ye.E.Indicator,null)),e.createElement(Le._,{htmlFor:"trackDisableRadio"},"Mute")),e.createElement(E.k,{align:"center",css:{cursor:"pointer"}},e.createElement(ye.E.Item,{value:!0,id:"trackEnableRadio",css:{mr:"$4"}},e.createElement(ye.E.Indicator,null)),e.createElement(Le._,{htmlFor:"trackEnableRadio"},"Request Unmute")))),e.createElement(A.DP,{justify:"end"},e.createElement(De.z,{variant:"primary",onClick:j},"Apply"))))};var Me=t(9478),Se=t(7777);const Ke=()=>{const l=(0,d._U)(p.AI),n=(0,d._U)(p.I3),[s,o]=(0,e.useState)(!1),[a,i]=(0,e.useState)(!1),[c,m]=(0,e.useState)(!1),[r,v]=(0,e.useState)(!1),[X,j]=(0,e.useState)(!1),[pe,oe]=(0,e.useState)(!1);return e.createElement(e.Fragment,null,e.createElement(C.L.Root,{open:s,onOpenChange:o},e.createElement(C.L.Trigger,{asChild:!0,"data-testid":"more_settings_btn"},e.createElement(Se.Z,null,e.createElement(T.u,{title:"More options"},e.createElement(R.x,null,e.createElement(h.Z,null))))),e.createElement(C.L.Content,{sideOffset:5,align:"center",css:{maxHeight:"$96","@md":{w:"$64"}}},e.createElement(C.L.Item,{onClick:()=>i(fe=>!fe),"data-testid":"change_name_btn"},e.createElement(u.Z,null),e.createElement(M.x,{variant:"sm",css:{ml:"$4"}},"Change Name")),e.createElement(xe,{onClick:()=>oe(!0)}),e.createElement(Te,null),l.mute&&e.createElement(C.L.Item,{onClick:()=>m(!0),"data-testid":"mute_all_btn"},e.createElement(b.Z,null),e.createElement(M.x,{variant:"sm",css:{ml:"$4"}},"Mute All")),e.createElement(C.L.ItemSeparator,null),e.createElement(C.L.Item,{onClick:()=>v(!0),"data-testid":"device_settings_btn"},e.createElement(B.Z,null),e.createElement(M.x,{variant:"sm",css:{ml:"$4"}},"Settings")),Me.T.enableStatsForNerds&&e.createElement(C.L.Item,{onClick:()=>j(!0),"data-testid":"stats_for_nreds_btn"},e.createElement(K.Z,null),e.createElement(M.x,{variant:"sm",css:{ml:"$4"}},"Stats for Nerds")))),c&&e.createElement(Pt,{onOpenChange:m}),a&&e.createElement(ct,{onOpenChange:i}),r&&e.createElement(ge.Z,{open:!0,onOpenChange:v}),Me.T.enableStatsForNerds&&X&&e.createElement(ht,{open:X,onOpenChange:j}),pe&&e.createElement(et.t,{peerId:n,onOpenChange:oe}))};var bt=t(4685),Ne=t(8160);const He=({css:l})=>{const n=(0,d._U)(p.xf),s=(0,U.L3)(N.JZ.isAudioOnly),{amIScreenSharing:o,screenShareVideoTrackId:a,toggleScreenShare:i}=(0,Q.N)(),c=o&&!!a;return!n.screen||!(0,he.Lo)()?null:Ne.createElement(T.u,{title:`${c?"Stop":"Start"} screen sharing`},Ne.createElement(Se.Z,{active:!c,css:l,disabled:s,onClick:()=>{i()},"data-testid":"screen_share_btn"},Ne.createElement(bt.Z,null)))},Ct=({onClose:l})=>{const n=(0,d.cw)();return e.createElement(re.V.Root,{defaultOpen:!0,onOpenChange:s=>!s&&l()},e.createElement(A.cZ,{title:"AudioOnly Screenshare"},e.createElement("img",{src:"/share-audio.png",alt:"AudioOnly Screenshare instructions"}),e.createElement(A.DP,{justify:"end"},e.createElement(De.z,{variant:"primary",onClick:()=>{n.setScreenShareEnabled(!0,!0),l()},"data-testid":"audio_screenshare_continue"},"Continue"))))};var Rt=t(1182),Ze=t(5106);function Ot(l,n){let s=l.filter(X=>X.srcObject!==null).length;const o=n.getContext("2d");o.fillStyle="#000000";const a=n.width,i=n.height;if(s===0){o.fillRect(0,0,a,i);return}else if(s===1||s===2){o.drawImage(l[0],0,0,a,i);return}const c=s<=2?1:2,m=Number(Math.ceil(s/c)),r=i/c,v=a/m;Tt(c,m,r,v,l,o)}function At(l){const n=l.getContext("2d");n.fillStyle="#000000";const s=l.width,o=l.height;n.fillRect(0,0,s,o)}function Tt(l,n,s,o,a,i){let c=0;for(let m=0;m<l;m++){const r=m*s;for(let v=0;v<n;v++){const X=v*o,j=a[c];!j||j.srcObject===null?i.fillRect(X,r,o,s):i.drawImage(j,X,r,o,s),c++}}}var yt=Object.defineProperty,Mt=(l,n,s)=>n in l?yt(l,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[n]=s,Dt=(l,n,s)=>(Mt(l,typeof n!="symbol"?n+"":n,s),s),Pe=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const Ge=4,It=30,Ut=900,xt=600,we="leavepictureinpicture",ve={starting:"starting",started:"started",stopping:"stopping",stopped:"stopped"};class Lt{constructor(){Dt(this,"stop",()=>Pe(this,null,function*(){var n;this.state!==ve.stopped&&(this.state=ve.stopping,(n=this.pipVideo)==null||n.removeEventListener(we,this.stop),this.timeoutRef&&Ze.gr(this.timeoutRef),this.isOn()&&this.exitPIP(),yield this.detachOldAttachNewTracks(this.tracksToShow,[]),this.onStateChange(!1),this.reset(),this.state=ve.stopped)})),this.reset()}reset(){console.debug("resetting PIP state"),this.canvas=null,this.pipVideo=null,this.timeoutRef=null,this.hmsActions=null,this.videoElements=[],this.tracksToShow=[],this.onStateChange=()=>{},this.state=ve.stopped}isSupported(){return!!document.pictureInPictureEnabled}isOn(){return!!document.pictureInPictureElement}start(n,s){return Pe(this,null,function*(){if(!this.isSupported())throw new Error("pip is not supported on this browser");if(console.debug("starting PIP, current state",this.state),this.state===ve.started)yield this.stop();else if(this.state===ve.starting)return;this.state=ve.starting;try{yield this.init(n,s),this.pipVideo.addEventListener(we,this.stop),this.renderLoop(),this.isOn()||(yield this.requestPIP()),console.debug("pip started"),this.state=ve.started,this.onStateChange(!0)}catch(o){console.error("error in request pip",o),this.state=ve.stopped}})}updatePeersAndTracks(n,s){return Pe(this,null,function*(){if(!this.canvas)return;const o=this.pickTracksToShow(n,s),a=this.tracksToShow;this.tracksToShow=this.orderNewTracksToShow(o,a);try{yield this.detachOldAttachNewTracks(a,this.tracksToShow,s)}catch(i){console.error("error in detaching/attaching tracks",i)}})}init(n,s){return Pe(this,null,function*(){yield this.initMediaElements(),this.hmsActions=n,this.onStateChange=s})}initMediaElements(){return Pe(this,null,function*(){if(!this.canvas){const{canvas:n,pipVideo:s}=this.initializeCanvasAndVideoElement();this.canvas=n,this.pipVideo=s,this.videoElements=this.initializeVideoElements();const o=this.pipVideo.play();At(this.canvas),yield o}})}initializeCanvasAndVideoElement(){const n=document.createElement("canvas");n.width=Ut,n.height=xt;const s=document.createElement("video");return s.muted=!0,s.srcObject=n.captureStream(),{canvas:n,pipVideo:s}}initializeVideoElements(){let n=[];for(let s=0;s<Ge;s++){const o=document.createElement("video");o.autoplay=!0,o.playsinline=!0,n.push(o)}return n}renderLoop(){const n=1e3/It;this.timeoutRef=Ze.iK(()=>{this.state===ve.stopping||this.state===ve.stopped||(this.state===ve.started&&Ot(this.videoElements,this.canvas),this.renderLoop())},n)}requestPIP(){return Pe(this,null,function*(){try{this.isOn()&&this.exitPIP(),yield this.pipVideo.requestPictureInPicture()}catch(n){throw console.error("error in requestpip",n,"state",this.state),n}})}exitPIP(){document.exitPictureInPicture()}pickTracksToShow(n,s){var o;const a=[];for(const i of n){if(a.length===Ge)break;i.videoTrack&&((o=s[i.videoTrack])==null?void 0:o.enabled)&&a.push(i.videoTrack)}return a}orderNewTracksToShow(n,s){const o=[],a=[];n.forEach(i=>{const c=s.indexOf(i);c!==-1&&c<n.length?o[c]=i:a.push(i)});for(let i=0;i<n.length;i++)o[i]||(o[i]=a.shift());return o}detachOldAttachNewTracks(n,s,o=null){return Pe(this,null,function*(){const a=Math.max(n.length,s.length);for(let i=0;i<a;i++)n[i]!==s[i]&&(n[i]&&((!o||o[n[i]])&&(yield this.hmsActions.detachVideo(n[i],this.videoElements[i])),this.videoElements[i]&&(this.videoElements[i].srcObject=null)),s[i]&&(yield this.hmsActions.attachVideo(s[i],this.videoElements[i])))})}}const Ce=new Lt;var Nt=Object.defineProperty,Vt=(l,n,s)=>n in l?Nt(l,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[n]=s,Re=(l,n,s)=>(Vt(l,typeof n!="symbol"?n+"":n,s),s),Je=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});class $t{constructor(){Re(this,"setup",(n,s)=>{this.actions=n,this.store=s,this.initState(),this.setUpHandlers()}),Re(this,"initState",()=>{var n,s,o,a;const i=this.store.getState(p.uX),c=this.store.getState(p.um);(s=(n=navigator.mediaSession)==null?void 0:n.setMicrophoneActive)==null||s.call(n,i),(a=(o=navigator.mediaSession)==null?void 0:o.setCameraActive)==null||a.call(o,c),this.store.subscribe(m=>{var r,v;(v=(r=navigator.mediaSession)==null?void 0:r.setMicrophoneActive)==null||v.call(r,m)},p.uX),this.store.subscribe(m=>{var r,v;(v=(r=navigator.mediaSession)==null?void 0:r.setCameraActive)==null||v.call(r,m)},p.um)}),Re(this,"toggleMic",()=>Je(this,null,function*(){console.log("toggle mic clicked in pip");const n=this.store.getState(p.uX);yield this.actions.setLocalAudioEnabled(!n)})),Re(this,"toggleCam",()=>Je(this,null,function*(){console.log("toggle cam clicked in pip");const n=this.store.getState(p.um);yield this.actions.setLocalVideoEnabled(!n)})),Re(this,"leave",()=>{console.log("leave called from pip"),this.actions.leave()}),Re(this,"setUpHandlers",()=>{if(navigator.mediaSession)try{navigator.mediaSession.setActionHandler("togglemicrophone",this.toggleMic),navigator.mediaSession.setActionHandler("togglecamera",this.toggleCam),navigator.mediaSession.setActionHandler("hangup",this.leave)}catch(n){console.error("error in setting media session handlers",n)}})}}const Bt=new $t,Ft=()=>{const l=(0,d._U)(p.fo),[n,s]=(0,e.useState)(Ce.isOn()),o=(0,d.cw)(),a=(0,d.gg)(),i=(0,e.useCallback)(()=>{n?Ce.stop().catch(c=>console.error("error in stopping pip",c)):(Ce.start(o,s).catch(c=>console.error("error in starting pip",c)),Bt.setup(o,a))},[o,n,a]);return(0,e.useEffect)(()=>()=>{Ce.stop().catch(c=>console.error("error in stopping pip on unmount",c))},[]),!Ce.isSupported()||l===N.Pj?null:e.createElement(e.Fragment,null,e.createElement(T.u,{title:`${n?"Deactivate":"Activate"} picture in picture view`},e.createElement(Se.Z,{active:!n,key:"pip",onClick:()=>i(),"data-testid":"pip_btn"},e.createElement(Rt.Z,null))),n&&e.createElement(jt,{setIsPipOn:s}))},jt=()=>{const l=(0,d._U)(p.zK),n=(0,d._U)(p.LY);return(0,e.useEffect)(()=>{Ce.updatePeersAndTracks(n,l).catch(s=>{console.error("error in updating pip",s)})},[l,n]),null},ke=Ft;var Ve=t(1243),Wt=t(9156),Kt=t(370),ze=t(3600),Ie=t(8160);const Ue=()=>{const l=(0,d._U)(p.SI),n=(0,ze.fg)(N.yb.CHAT),s=(0,ze.Jp)(N.yb.CHAT);return Ie.createElement(T.u,{key:"chat",title:`${n?"Close":"Open"} chat`},Ie.createElement(Se.Z,{onClick:s,active:!n,"data-testid":"chat_btn"},l===0?Ie.createElement(Wt.Z,null):Ie.createElement(Kt.Z,{"data-testid":"chat_unread_btn"})))};var Ht=t(6722),Zt=t(8287),Gt=t(9057);function wt(l){if(!l)return"";let n=Math.floor(l/60);n<10&&(n=`0${String(n)}`);let s=Math.floor(l%60);return s<10&&(s=`0${String(s)}`),`${n}:${s}`}const Jt=e.memo(({name:l,metadata:n,duration:s,selected:o,onClick:a})=>e.createElement(C.L.Item,{css:{flexDirection:"column",alignItems:"flex-start",h:"$18",p:"$8","&:hover":{cursor:"pointer",bg:"$menuBg"},"&:focus-visible":{bg:"$menuBg"}},onClick:a},e.createElement(E.k,{align:"center",justify:"between",css:{width:"100%",minHeight:0}},e.createElement(M.x,{variant:"md",css:{color:o?"$brandDefault":"$textPrimary"}},l),e.createElement(M.x,{variant:"xs"},wt(s))),n?.description&&e.createElement(M.x,{variant:"xs",css:{mt:"$4"}},n?.description)));var kt=t(9990),zt=t(8961),Xt=Object.defineProperty,Qt=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,Qe=(l,n,s)=>n in l?Xt(l,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[n]=s,tn=(l,n)=>{for(var s in n||(n={}))qt.call(n,s)&&Qe(l,s,n[s]);if(Xe)for(var s of Xe(n))en.call(n,s)&&Qe(l,s,n[s]);return l},nn=(l,n)=>Qt(l,Yt(n)),Ye=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const sn=({type:l,actions:n})=>e.createElement(e.Fragment,null,e.createElement(M.x,{as:"label",htmlFor:`${l}PlaylistBrowse`,variant:"sm",css:{cursor:"pointer",mr:"$2"}},"Browse"),e.createElement("input",{type:"file",id:`${l}PlaylistBrowse`,accept:l===p.Mv.audio?"audio/*":"video/*",onChange:s=>{const o=s.target.files[0],a=o.lastModified;n.setList([{type:l,id:a,name:o.name,url:URL.createObjectURL(o)}]),n.play(a)},style:{display:"none"}})),qe=({type:l})=>{const n=l===p.Mv.audio,{active:s,list:o,actions:a}=(0,zt.Z)(l),[i,c]=(0,e.useState)(!1),[m,r]=(0,e.useState)(!1);return!(0,d._U)(p.xf).screen||o.length===0?null:e.createElement(e.Fragment,null,e.createElement(C.L.Root,{open:i,onOpenChange:c},e.createElement(C.L.Trigger,{asChild:!0,"data-testid":l===p.Mv.audio?"audio_playlist":"video_playlist"},e.createElement(Se.Z,{active:!s},e.createElement(T.u,{title:n?"Audio Playlist":"Video Playlist"},e.createElement(R.x,null,n?e.createElement(Ht.Z,null):e.createElement(Zt.Z,null))))),e.createElement(C.L.Content,{sideOffset:5,align:"center",css:{maxHeight:"unset",width:"$60",p:"$0",bg:"$bgSecondary",border:"1px solid $menuBg"}},e.createElement(E.k,{align:"center",css:{p:"$4 $8",borderBottom:"1px solid $borderLight",bg:"$menuBg"}},e.createElement(M.x,{variant:"md",css:{flex:"1 1 0"}},n?"Audio Player":"Video Playlist"),e.createElement(sn,{type:l,actions:a}),e.createElement(Se.Z,{css:{mr:"-$4"},onClick:()=>Ye(void 0,null,function*(){s&&(yield a.stop()),c(!1),r(!1)})},e.createElement(Gt.Z,{width:24,height:24}))),!m&&e.createElement(R.x,{css:{maxHeight:"$96",overflowY:"auto"}},o.map(X=>e.createElement(Jt,nn(tn({key:X.id},X),{onClick:j=>Ye(void 0,null,function*(){j.preventDefault(),yield a.play(X.id),n||c(!1)})})))),n&&e.createElement(kt.iS,{onToggle:()=>r(X=>!X)}))))};var ln=t(550),on=t(1290),$e=t(8160),Oe=(l,n,s)=>new Promise((o,a)=>{var i=r=>{try{m(s.next(r))}catch(v){a(v)}},c=r=>{try{m(s.throw(r))}catch(v){a(v)}},m=r=>r.done?o(r.value):Promise.resolve(r.value).then(i,c);m((s=s.apply(l,n)).next())});const an=()=>{const l=(0,e.useRef)(null),n=(0,d.cw)(),[s,o]=(0,e.useState)(!1),[a,i]=(0,e.useState)(!1),c=(0,d._U)((0,p.fC)("@100mslive/hms-noise-suppression")),{selectedDeviceIDs:m}=(0,ln.L)(),r=c&&!s,v=(0,e.useCallback)(()=>Oe(void 0,null,function*(){if(!l.current){const{HMSNoiseSuppressionPlugin:oe}=yield Promise.all([t.e(53),t.e(301)]).then(t.bind(t,2053));l.current=new oe({NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.NS_DURATION_TIME_IN_MS)}}),[]),X=(0,e.useCallback)(()=>Oe(void 0,null,function*(){l.current&&(yield n.removePluginFromAudioTrack(l.current),l.current=null)}),[n]),j=(0,e.useCallback)(oe=>Oe(void 0,null,function*(){let fe="adding Noise Suppression plugin failed, see docs";oe.message&&(fe=oe.message),q.y.addToast({title:fe}),o(!0),yield X(),l.current=null,console.error(oe)}),[X]),pe=(0,e.useCallback)(()=>Oe(void 0,null,function*(){try{o(!1),yield v();const oe=n.validateAudioPluginSupport(l.current);if(oe.isSupported)yield n.addPluginToAudioTrack(l.current);else{const fe=oe.errMsg;yield j(fe)}}catch(oe){yield j(oe)}}),[n,j,v]);return(0,e.useEffect)(()=>{Oe(void 0,null,function*(){l.current||(yield v());const oe=n.validateAudioPluginSupport(l.current);i(oe.isSupported),o(!oe.isSupported)})},[m.audioInput,n,v]),a&&Me.T.showNS()?$e.createElement(T.u,{title:`Turn ${r?"off":"on"} noise suppression`},$e.createElement(Se.Z,{active:!r,disabled:s,onClick:()=>Oe(void 0,null,function*(){r?yield X():yield pe()}),"data-testid":"noise_suppression_btn"},$e.createElement(on.Z,null))):null};var rn=t(3951);const cn=e.lazy(()=>Promise.all([t.e(813),t.e(922)]).then(t.bind(t,4922))),dn=()=>{const{amIScreenSharing:l,screenShareVideoTrackId:n,screenShareAudioTrackId:s,toggleScreenShare:o}=(0,Q.N)(),a=(0,d._U)(p.xf),i=l&&!n&&!!s,[c,m]=(0,e.useState)(!1);return!a.screen||!(0,he.Lo)()?null:e.createElement(e.Fragment,null,e.createElement(T.u,{title:`${i?"Stop":"Start"} audio sharing`,key:"shareAudio"},e.createElement(Se.Z,{active:!i,onClick:()=>{l?o(!0):m(!0)},"data-testid":"screenshare_audio"},e.createElement($.Z,null))),c&&e.createElement(Ct,{onClose:()=>m(!1)}))},mn=()=>e.createElement(w.$.Root,null,e.createElement(w.$.Left,null,e.createElement(dn,null),e.createElement(qe,{type:p.Mv.audio}),e.createElement(qe,{type:p.Mv.video}),Me.T.enableWhiteboard?e.createElement(W.VK,null):null,e.createElement(rn.f,null),e.createElement(an,null),Me.T.enableTranscription&&e.createElement(cn,null),e.createElement(E.k,{align:"center",css:{display:"none","@md":{display:"flex"}}},e.createElement(Ve.Z,{isMobile:!0}))),e.createElement(w.$.Center,null,e.createElement(ae.l,null),e.createElement(He,null),e.createElement(ke,null),e.createElement(Ke,null),e.createElement(O.R,null),e.createElement(E.k,{align:"center",css:{display:"none","@md":{display:"flex"}}},e.createElement(Ue,null))),e.createElement(w.$.Right,null,e.createElement(Ve.Z,null),e.createElement(Ue,null)));var un=t(9209);const pn=()=>e.createElement(w.$.Root,{css:{flexWrap:"nowrap","@md":{justifyContent:"center"}}},e.createElement(w.$.Left,{css:{"@md":{w:"unset",p:"0"}}},e.createElement(ae.l,null)),e.createElement(w.$.Center,{css:{"@md":{w:"unset"}}},e.createElement(He,{css:{"@sm":{display:"none"}}}),e.createElement(R.x,{css:{"@md":{display:"none"}}},e.createElement(ke,null)),e.createElement(R.x,{css:{display:"none","@md":{display:"flex",alignItems:"center",mx:"$4"}}},e.createElement(un.Q$,null)),e.createElement(Ke,null),e.createElement(R.x,{css:{"@md":{display:"none"}}},e.createElement(O.R,null)),e.createElement(E.k,{align:"center",css:{display:"none","@md":{display:"flex"}}},e.createElement(Ue,null))),e.createElement(w.$.Right,null,e.createElement(Ve.Z,null),e.createElement(Ue,null))),hn=()=>(0,he.ZM)()?e.createElement(pn,null):e.createElement(mn,null);var vn=t(8760);const En=()=>{const l=(0,vn.H)(),{roomId:n,role:s}=(0,P.UO)(),o=(0,U.tQ)(),a=(0,d._U)(p.Pz),i=(0,S.Z)(a),c=(0,d._U)(p.ln),m=(0,d.cw)();return(0,e.useEffect)(()=>{if(!n){l("/");return}!i&&!(a===p.wk.Connecting||a===p.wk.Reconnecting||c)&&l(s?`/preview/${n||""}/${s}`:`/preview/${n||""}`)},[c,i,a,l,s,n]),(0,e.useEffect)(()=>{o&&m.ignoreMessageTypes(["chat"])},[o,m]),(0,e.useEffect)(()=>()=>{c&&m.leave()},[m,c]),c?e.createElement(E.k,{css:{size:"100%"},direction:"column"},!o&&e.createElement(R.x,{css:{h:"$18","@md":{h:"$17"}},"data-testid":"header"},e.createElement(I.h,null)),e.createElement(R.x,{css:{w:"100%",flex:"1 1 0",minHeight:0},"data-testid":"conferencing"},e.createElement(f,null)),!o&&e.createElement(R.x,{css:{flexShrink:0,minHeight:"$24"},"data-testid":"footer"},e.createElement(hn,null)),e.createElement(J,null)):e.createElement(F.Z,null)}},9655:(ce,Z,t)=>{t.d(Z,{m:()=>G,O:()=>ne});var e=t(8160),P=t(32),S=t(9290),d=t(6939),p=t(8485),E=t(8721),R=t(914);const F=e.memo(()=>e.createElement(d.x,{css:{position:"relative",overflow:"hidden",w:"37.5rem",maxWidth:"80%",h:"100%",r:"$3",m:"0 auto",backgroundImage:`url(${R})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"},"data-testid":"first_person_img"},e.createElement(p.k,{align:"center",direction:"column",css:{position:"absolute",w:"100%",top:"33.33%",left:0,textAlign:"center"}},e.createElement(E.x,{color:"white",variant:"h4",css:{"@md":{fontSize:"$md"}}},"Welcome!"),e.createElement(E.x,{color:"white",variant:"h6",css:{mt:"$4","@md":{fontSize:"$sm"}}},"You\u2019re the first one here."),e.createElement(E.x,{color:"white",variant:"h6",css:{mt:"$2","@md":{fontSize:"$sm"}}},"Sit back and relax till the others join."))));var A=t(8051);const U=(0,S.zo)("img",{width:"100%",height:"auto",r:"$3"}),J=4,L=JSON.parse({NVM_INC:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/include/node",TERM_PROGRAM:"vscode",NODE:"/usr/local/bin/node",INIT_CWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",NVM_CD_FLAGS:"-q",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/",npm_config_global_prefix:"/usr/local",TERM_PROGRAM_VERSION:"1.74.2",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",USER:"shubhamingale",NVM_DIR:"/Users/shubhamingale/.nvm",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.2Ns3ViRzms/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",PATH:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/2022/node_modules/.bin:/Users/shubhamingale/Documents/develpement/ReactJS/node_modules/.bin:/Users/shubhamingale/Documents/develpement/node_modules/.bin:/Users/shubhamingale/Documents/node_modules/.bin:/Users/shubhamingale/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet:~/.dotnet/tools:/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin:/Users/shubhamingale/Downloads/google-cloud-sdk/bin",npm_package_json:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/package.json",_:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine/node_modules/.bin/webpack",npm_config_userconfig:"/Users/shubhamingale/.npmrc",npm_config_init_module:"/Users/shubhamingale/.npm-init.js",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/shubhamingale/Documents/develpement/ReactJS/2022/100ms-dopamine",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"100ms_edtech_template",LANG:"en_GB.UTF-8",XPC_FLAGS:"0x0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.5",XPC_SERVICE_NAME:"0",HOME:"/Users/shubhamingale",SHLVL:"2",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/shubhamingale/.npm",LOGNAME:"shubhamingale",npm_lifecycle_script:"webpack --node-env production",VSCODE_GIT_IPC_HANDLE:"/var/folders/v9/p8jy6m854s70xj2d6fmpj1dr0000gn/T/vscode-git-2fa529c5b5.sock",NVM_BIN:"/Users/shubhamingale/.nvm/versions/node/v18.9.0/bin",npm_config_user_agent:"npm/8.19.1 node/v17.6.0 darwin arm64 workspaces/false",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper",npm_node_execpath:"/usr/local/bin/node",npm_config_prefix:"/usr/local",COLORTERM:"truecolor",NODE_ENV:"production"}.REACT_APP_WEBINAR_PROPS||"{}"),N=L?.ROOM_IDS||[],k=L?.IMAGE_FILE||"",te=L?.LINK_HREF||"https://100ms.live/",G=({peers:x,maxTileCount:se})=>{const V=S.vc.media.md,W=(0,P.Z)(V);return e.createElement(e.Fragment,null,e.createElement(d.x,{css:{flex:"1 1 0",height:"100%",mx:"$8","@md":{flex:"2 1 0"}}},x&&x.length>0?e.createElement(A.Z,{peers:x,maxTileCount:W?J:se}):N.some(D=>window.location.href.includes(D))?e.createElement(d.x,{css:{display:"grid",placeItems:"center",size:"100%",p:"$12"}},e.createElement("a",{href:te,target:"_blank",rel:"noreferrer"},e.createElement(U,{css:{p:"$4",boxShadow:"$sm"},alt:"Event template",src:k}))):e.createElement(F,null)))},ne=({peers:x})=>e.createElement(p.k,{direction:"column",css:{flex:"0 0 20%",mx:"$8","@lg":{flex:"0 0 25%"},"@md":{flex:"1 1 0"}}},e.createElement(p.k,{css:{flex:"1 1 0"},align:"end"},x&&x.length>0&&e.createElement(A.Z,{peers:x,maxColCount:2})))},3844:(ce,Z,t)=>{t.d(Z,{O:()=>S});const e="peerName",P=new Map([[[!0,"screen"].toString(),"Your Screen"],[[!0,"regular"].toString(),`You (${e})`],[[!1,"screen"].toString(),`${e}'s Screen`],[[!1,"regular"].toString(),e],[[!0,void 0].toString(),`You (${e})`],[[!1,void 0].toString(),`${e}`]]),S=({peerName:d,isLocal:p,track:E})=>{const R=d!==void 0;if(!R||!E)return R?P.get([p,void 0].toString()).replace(e,d):"";const F=E.volume===0;let A=P.get([p,E.source].toString());return A?A=A.replace(e,d):A=`${d} ${E.source}`,A=`${A}${E.degraded?"(Degraded)":""}`,`${A}${F?" (Muted for you)":""}`}},535:(ce,Z,t)=>{t.d(Z,{s:()=>T,Z:()=>h});var e=t(8160),P=t(32),S=t(3751),d=t(8081),p=t(9290),E=t(8485),R=t(6939),F=t(4685),A=t(9057),U=t(8721),J=t(7688),L=(u,b,B)=>new Promise((K,C)=>{var M=Y=>{try{z(B.next(Y))}catch(ie){C(ie)}},H=Y=>{try{z(B.throw(Y))}catch(ie){C(ie)}},z=Y=>Y.done?K(Y.value):Promise.resolve(Y.value).then(M,H);z((B=B.apply(u,b)).next())});const N=()=>{const u=(0,S.cw)();return e.createElement(E.k,{direction:"column",align:"center",justify:"center",css:{position:"relative",overflow:"hidden",w:"37.5rem",maxWidth:"80%",h:"100%",r:"$3",m:"0 auto",color:"$textPrimary",bg:"$surfaceDefault",textAlign:"center"}},e.createElement(F.Z,{width:48,height:48}),e.createElement(U.x,{variant:"h5",css:{m:"$8 0"}},"You are sharing your screen"),e.createElement(J.z,{variant:"danger",onClick:()=>L(void 0,null,function*(){yield u.setScreenShareEnabled(!1)}),"data-testid":"stop_screen_share_btn"},e.createElement(A.Z,{width:18,height:18}),"\xA0 Stop screen share"))};var k=t(9477),te=t(8051),G=t(8329),ne=t(2843),x=t(8379),se=t(8523),V=t.n(se),W=t(6532),D=t(7854),_=t(5861),y=t(3074),g=t(9990),f=t(5581),I=t(6773);const $=e.memo(({peerId:u})=>{const b=(0,S._U)((0,d.CI)(u)),B=(0,S._U)(d.k0.selectedItem),K=(0,I.L3)(f.JZ.isAudioOnly),C=(0,S.cw)(),M=(0,e.useRef)(null),[H,z]=(0,ne.Z)(!1),Y=(0,x.Z)(M,H,{onClose:()=>z(!1)});return e.createElement(E.k,{direction:"column",justify:"center",css:{w:"100%",h:"100%"},ref:M},B&&e.createElement(E.k,{justify:"between",align:"center",css:{bg:"$menuBg",p:"$2 $2 $2 $6",borderTopLeftRadius:"$1",borderTopRightRadius:"$1"}},e.createElement(U.x,{css:{color:"$textPrimary"}},B.name),e.createElement(_.h,{css:{color:"$white"},onClick:()=>{C.videoPlaylist.stop()},"data-testid":"videoplaylist_cross_btn"},e.createElement(A.Z,null))),e.createElement(y.n,{trackId:b?.id,attach:!K,css:{"@lg":{objectFit:"contain",h:"auto"},r:"$1",borderTopLeftRadius:0,borderTopRightRadius:0}}),e.createElement(g.Nc,null,V().enabled&&e.createElement(_.h,{onClick:()=>z(),css:{color:"$white",height:"max-content",alignSelf:"center",cursor:"pointer"}},Y?e.createElement(W.Z,null):e.createElement(D.Z,null))))}),Q=()=>{var u;const b=p.vc.media.lg,B=(0,P.Z)(b),K=(0,S._U)(d.BK),C=(0,S._U)(d.I3),M=(0,S._U)(d.fo),H=(0,S._U)(d.pk),z=(0,S._U)(d.Oq),Y=((u=H?.roleName)==null?void 0:u.toLowerCase())===M?.toLowerCase(),ie=C===H?.id,de=B||ie||Y,q=(0,e.useMemo)(()=>{const he=K.filter(_e=>_e.id!==H?.id);return de&&H&&he.unshift(H),he},[K,H,de]);return e.createElement(E.k,{css:{size:"100%"},direction:B?"column":"row"},e.createElement(w,{amIPresenting:ie,peerPresenting:H,peerSharingPlaylist:z}),e.createElement(E.k,{direction:{"@initial":"column","@lg":"row"},css:{overflow:"hidden",p:"$4 $8",flex:"0 0 20%","@lg":{flex:"1 1 0"}}},e.createElement(T,{showSidebarInBottom:B,peerScreenSharing:H,isPresenterInSmallTiles:de,smallTilePeers:q,totalPeers:K.length})))},T=({isPresenterInSmallTiles:u,peerScreenSharing:b,smallTilePeers:B,totalPeers:K,showSidebarInBottom:C})=>{const M=(0,e.useCallback)(H=>b&&H.id!==b.id,[b]);return e.createElement(e.Fragment,null,!u&&e.createElement(O,{peerScreenSharing:b}),e.createElement(ae,{showSidebarInBottom:C,smallTilePeers:B,shouldShowScreenFn:M}))},w=({showStats:u,amIPresenting:b,peerPresenting:B,peerSharingPlaylist:K})=>{const C=(0,S._U)((0,d.K6)(B?.id));return K?e.createElement(R.x,{css:{mx:"$8",flex:"3 1 0","@lg":{flex:"2 1 0",display:"flex",alignItems:"center"}}},e.createElement($,{peerId:K.id})):e.createElement(R.x,{css:{flex:"3 1 0",mx:"$8","@lg":{ml:"$4",maxHeight:"80%"}}},B&&(b&&!["browser","window","application"].includes(C?.displaySurface)?e.createElement(R.x,{css:{objectFit:"contain",h:"100%"}},e.createElement(N,null)):e.createElement(k.Z,{peerId:B?.id})))},ae=({smallTilePeers:u,shouldShowScreenFn:b,showStatsOnTiles:B,showSidebarInBottom:K})=>e.createElement(E.k,{css:{flex:"2 1 0"}},u&&u.length>0&&e.createElement(te.Z,{peers:u,maxColCount:K?void 0:2,maxRowCount:K?1:void 0,includeScreenShareForPeer:b,showStatsOnTiles:B})),O=({peerScreenSharing:u,showStatsOnTiles:b})=>u?e.createElement(R.x,{css:{flex:"1 1 0",minHeight:"25%",py:"$4","@lg":{mr:"$4",minHeight:"unset",py:0},"@sm":{height:"100%",maxHeight:"75%",alignSelf:"center"}}},e.createElement(G.Z,{showStatsOnTiles:b,width:"100%",height:"100%",peerId:u.id})):null,h=Q},914:(ce,Z,t)=>{ce.exports=t.p+"static/media/first_person.0917322d0bba25059a53.png"}}]);

//# sourceMappingURL=726.61975732.js.map